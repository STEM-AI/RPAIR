"use strict";(self.webpackChunkforntend=self.webpackChunkforntend||[]).push([[9834],{9834:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var s=n(2791),r=n(1830),o=n.n(r),a=n(3050),c=n(184);const l=()=>{const[e,t]=(0,s.useState)({content:""}),[n,r]=(0,s.useState)(!0),[l,i]=(0,s.useState)(null),d=localStorage.getItem("access_token");return(0,c.jsxs)("div",{className:"max-h-screen bg-gray-100 py-20",children:[(0,c.jsx)(a.ql,{children:(0,c.jsx)("title",{children:"Add News"})}),(0,c.jsxs)("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-lg",children:[(0,c.jsx)("h1",{className:"mb-6 pt-4 pb-8 text-center bg-clip-text text-transparent bg-gradient-to-r from-cyan-950 to-cyan-500 text-3xl sm:text-4xl md:text-5xl font-black",children:"New News"}),l&&(0,c.jsx)("div",{className:"mb-4 text-sm text-red-600",children:l}),(0,c.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),e.content)try{const n=await fetch("https://rpair.org/api/admin/news/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify(e)});if(!n.ok){const e=await n.json();throw new Error(e.message||"Network response was not ok")}const s=await n.json();console.log("News updated successfully:",s),o().fire({icon:"success",title:"Success",text:"Registration successful!",showConfirmButton:!1}),t({...e,content:""}),i(null)}catch(l){i(l.message||"Error updating news"),console.error("Error updating news:",l)}else i("Content is required.")},children:[(0,c.jsx)("textarea",{id:"newsInput",placeholder:"Enter news content here...",className:"w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent resize-none",rows:6,value:e.content,onChange:n=>{t({...e,content:n.target.value})}}),(0,c.jsx)("button",{type:"submit",className:"mt-8 font-bold py-2 px-4 w-full rounded bg-cyan-800 hover:bg-cyan-600 transition-all duration-700 cursor-pointer text-white",children:"Update News"})]})]})]})}}}]);
//# sourceMappingURL=9834.afb9f78c.chunk.js.map