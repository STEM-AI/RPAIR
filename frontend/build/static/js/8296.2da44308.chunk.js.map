{"version":3,"file":"static/js/8296.2da44308.chunk.js","mappings":"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","sources":["pages/Dashboards/AdminDashboard/Management/CreateCompetition.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Alert from \"@mui/material/Alert\";\r\nimport AlertTitle from \"@mui/material/AlertTitle\";\r\nimport Stack from \"@mui/material/Stack\";\r\n\r\n\r\nconst options = [\r\n  { value: \"vex_iq\", label: \"VEX IQ\" },\r\n  { value: \"vex_123\", label: \"VEX 123\" },\r\n  {\r\n    label: \"VEX GO\",\r\n    options: [\r\n      { value: \"robotics\", label: <> Ocean Science Exploration</> },\r\n      { value: \"vex_go_city\", label: <> City Technology Rebuild</> },\r\n      { value: \"vex_go_village\", label: <> Village Engineering Construction</> },\r\n      { value: \"vex_go_mars\", label: <> Mars Math Expedition</> },\r\n    ],\r\n  },\r\n  { value: \"programming\", label: \"Programming\" },\r\n  { value: \"web_design\", label: \"Web Design\" },\r\n    { value: \"open_source\", label: \"Open Source\" },\r\n    { value: \"mobile_application\", label: \"Mobile Application\" },\r\n    { value: \"artificial_intelligence\", label: \"Artificial Intelligence\" },\r\n    { value: \"fablab\", label: \"Fablab\" },\r\n    { value: \"st_math\", label: \"ST Math\" },\r\n    { value: \"graphic_design\", label: \"Graphic Design\" },\r\n];\r\nconst CreateCompetition = () => {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    type: \"\", \r\n    rules:\"\" , \r\n    description: \"\",\r\n    image: null\r\n  });\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [responseMessage, setResponseMessage] = useState(null);\r\n  const [alertType, setAlertType] = useState(\"\");\r\n\r\n  const token = localStorage.getItem(\"access_token\");\r\n  \r\n\r\n  if (!token) {\r\n    return (\r\n      <div className=\"text-red-600 text-center mt-8\">\r\n        You are not authorized. Please log in.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setFormData((prevState) => ({\r\n      ...prevState,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleImageChange = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      setFormData((prevState) => ({\r\n        ...prevState,\r\n        image: file\r\n      }));\r\n      setImagePreview(URL.createObjectURL(file));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setIsSubmitting(true);\r\n    setResponseMessage(null);\r\n\r\n    try {\r\n      const formDataToSend = new FormData();\r\n      Object.keys(formData).forEach(key => {\r\n        formDataToSend.append(key, formData[key]);\r\n      });\r\n\r\n      await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/competition/create/`,\r\n        formDataToSend,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setAlertType(\"success\");\r\n      setResponseMessage(\"Event created successfully!\");\r\n      setFormData({\r\n        name: \"\",\r\n        type: \"\",\r\n        rules: \"\",\r\n        description: \"\",\r\n        image: null\r\n      });\r\n      setImagePreview(null);\r\n   \r\n    } catch (err) {\r\n      console.error(\"Error Response:\", err.response); \r\n      setAlertType(\"error\");\r\n      setResponseMessage(\r\n        err.response?.data?.detail || \"Failed to create the event. Please try again.\"\r\n      );\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container px-4\">\r\n        <h2 className=\"mb-4 tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-cyan-950 to-cyan-500 text-5xl py-2 font-black\">\r\n          Create Competition\r\n      </h2>\r\n      \r\n\r\n        {responseMessage && (\r\n          <Stack sx={{ width: \"100%\" }} spacing={2}>\r\n            <Alert severity={alertType}>\r\n              <AlertTitle>{alertType === \"success\" ? \"Success\" : \"Error\"}</AlertTitle>\r\n              {responseMessage}\r\n            </Alert>\r\n          </Stack>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit} className=\"grid grid-cols-1 gap-6\">\r\n         \r\n\r\n          <div className=\"p-2\">\r\n            <label htmlFor=\"competition_name\" className=\"block text-gray-700 font-bold\">\r\n              Competition Name:\r\n            </label>\r\n          <select\r\n            id=\"competition_name\"\r\n            name=\"name\"\r\n            value={formData.name}\r\n            onChange={handleChange}\r\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\r\n          >\r\n            {options.map((item) => \r\n              item.options ? (\r\n                <optgroup key={item.label} label={item.label}>\r\n                  {item.options.map((subItem) => (\r\n                    <option key={subItem.value} value={subItem.value}>\r\n                      {subItem.label}\r\n                    </option>\r\n                  ))}\r\n                </optgroup>\r\n              ) : (\r\n                <option key={item.value} value={item.value}>\r\n                  {item.label}\r\n                </option>\r\n              )\r\n            )}\r\n          </select>\r\n\r\n          </div>\r\n\r\n         \r\n          <div className=\"p-2\">\r\n            <label htmlFor=\"type\" className=\"block text-gray-700 font-bold\">\r\n              type:\r\n            </label>\r\n           \r\n           <input\r\n              type=\"text\"\r\n              id=\"competition_name\"\r\n              name=\"name\"\r\n              placeholder=\"Enter competition name\"\r\n              value={formData.name}\r\n              onChange={handleChange}\r\n              className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\r\n          />\r\n          </div>\r\n\r\n          <div className=\"p-2\">\r\n            <label htmlFor=\"rules\" className=\"block text-gray-700 font-bold\">\r\n              rules:\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"rules\"\r\n              name=\"rules\"\r\n              value={formData.rules}\r\n              onChange={handleChange}\r\n              className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"p-2\">\r\n            <label htmlFor=\"description\" className=\"block text-gray-700 font-bold\">\r\n              Description:\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"description\"\r\n              name=\"description\"\r\n              placeholder=\"Enter description\"\r\n              value={formData.description}\r\n              onChange={handleChange}\r\n              className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"p-2\">\r\n            <label htmlFor=\"image\" className=\"block text-gray-700 font-bold mb-4\">\r\n              Competition Image:\r\n            </label>\r\n            <div className=\"flex flex-col items-center justify-center w-full\">\r\n              {imagePreview ? (\r\n                <div className=\"relative w-full max-w-2xl\">\r\n                  <img \r\n                    src={imagePreview} \r\n                    alt=\"Competition preview\" \r\n                    className=\"w-full \"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      setImagePreview(null);\r\n                      setFormData(prev => ({ ...prev, image: null }));\r\n                    }}\r\n                    className=\"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors\"\r\n                  >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                      <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <label\r\n                  className=\"flex flex-col items-center justify-center w-full h-64 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors\"\r\n                >\r\n                  <div className=\"flex flex-col items-center justify-center pt-5 pb-6\">\r\n                    <svg className=\"w-12 h-12 text-gray-400 mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                    </svg>\r\n                    <p className=\"mb-2 text-sm text-gray-500\">\r\n                      <span className=\"font-semibold\">Click to upload</span> or drag and drop\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500\">PNG, JPG, JPEG (MAX. 5MB)</p>\r\n                  </div>\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"image\"\r\n                    name=\"image\"\r\n                    accept=\"image/*\"\r\n                    onChange={handleImageChange}\r\n                    className=\"hidden\"\r\n                  />\r\n                </label>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-span-full mt-6 p-2\">\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isSubmitting}\r\n              className=\"block w-full bg-cyan-500 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-full\"\r\n            >\r\n              {isSubmitting ? \"Submitting...\" : \"Submit\"}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default CreateCompetition;"],"names":["options","value","label","_jsx","_Fragment","children","CreateCompetition","formData","setFormData","useState","name","type","rules","description","image","imagePreview","setImagePreview","isSubmitting","setIsSubmitting","responseMessage","setResponseMessage","alertType","setAlertType","token","localStorage","getItem","className","handleChange","event","target","prevState","_jsxs","Stack","sx","width","spacing","Alert","severity","AlertTitle","onSubmit","async","preventDefault","formDataToSend","FormData","Object","keys","forEach","key","append","axios","post","process","REACT_APP_API_URL","headers","Authorization","err","_err$response","_err$response$data","console","error","response","data","detail","htmlFor","id","onChange","map","item","subItem","placeholder","src","alt","onClick","prev","xmlns","viewBox","fill","fillRule","d","clipRule","stroke","strokeLinecap","strokeLinejoin","strokeWidth","accept","file","files","URL","createObjectURL","disabled"],"sourceRoot":""}