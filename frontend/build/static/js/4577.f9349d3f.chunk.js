"use strict";(self.webpackChunkforntend=self.webpackChunkforntend||[]).push([[4577],{4577:(e,s,r)=>{r.r(s),r.d(s,{default:()=>x});var t=r(1830),a=r.n(t),o=r(8402),l=r(2903),n=r(2791),d=r(1758),c=r(6081),i=r(2602),u=r(9128),m=r(3050),b=r(184);const x=()=>{const[e,s]=(0,n.useState)(""),[r,t]=(0,n.useState)(""),[x,g]=(0,n.useState)(""),[h,f]=(0,n.useState)(""),[y,p]=(0,n.useState)(""),[w,j]=(0,n.useState)(""),[N,v]=(0,n.useState)(!1),[k,S]=(0,n.useState)(!1),[C,q]=(0,n.useState)(""),[F,P]=(0,n.useState)(""),[_,R]=(0,n.useState)(""),[U,B]=(0,n.useState)(""),[Z,T]=(0,n.useState)(!1),[$,z]=(0,n.useState)(!1),[E,L]=(0,n.useState)(null),[A,D]=(0,n.useState)(!1),[G,I]=(0,n.useState)(!1);return Z?(0,b.jsx)(i.Fg,{to:"/login"}):(0,b.jsxs)("div",{className:"relative py-14 ",style:{backgroundImage:`url(${c})`,backgroundSize:"cover",backgroundPosition:"center"},children:[(0,b.jsx)("div",{className:"absolute bg-gray-50 inset-0 bg-opacity-50 z-0"}),(0,b.jsx)(m.ql,{children:(0,b.jsx)("title",{children:"Registration"})}),(0,b.jsxs)("div",{id:"signUpForm",onSubmit:async s=>{if(s.preventDefault(),z(!0),L(null),y!==w)return L("Passwords do not match."),void z(!1);if(!k)return L("Password does not meet the requirements."),void z(!1);try{await l.Z.post("https://rpair.org/api/user/auth/user-register/",{first_name:e,last_name:r,username:x,email:h,country:C,address:F,date_of_birth:_,phone_number:U,password:y},{headers:{"Content-Type":"application/json"},withCredentials:!0});console.log("Success"),T(!0),a().fire({icon:"success",title:"Success",text:"Registration successful!",showConfirmButton:!1})}catch(t){console.error("Registration error:",t);let e="Registration failed. Try again.";t.response?(console.error("Error response data:",t.response.data),e=t.response.data.email?t.response.data.email:t.response.data.phone_number?t.response.data.phone_number:t.response.data.username?t.response.data.username:t.response.data.detail||e):t.request?console.error("Error request:",t.request):console.error("Unexpected error:",t.message),L(e)}finally{z(!1)}},className:"relative flex bg-white rounded-2xl  shadow-lg overflow-hidden mx-auto max-w-sm lg:max-w-5xl w-full",children:[(0,b.jsxs)("div",{className:"w-full px-8 py-4 lg:w-3/4 flex flex-col mx-auto",children:[(0,b.jsx)("h2",{className:"text-3xl  font-bold text-gray-700 text-center pb-4",children:"Sign Up"}),(0,b.jsx)("span",{className:"border-b w-full "}),(0,b.jsxs)("form",{className:" pt-6 pb-8 mb-4 bg-white rounded",children:[(0,b.jsxs)("div",{className:"mb-4 md:flex md:justify-between",children:[(0,b.jsxs)("div",{className:"mb-4 md:mr-2 md:mb-0",children:[(0,b.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"firstName",children:"First Name"}),(0,b.jsx)("input",{className:"bg-gray-200 text-gray-700 focus:outline-none focus:ring-2 focus:ring-cyan-600 focus:shadow-md border border-gray-300 rounded py-2 px-4 block w-full",id:"firstName",type:"text",placeholder:"First Name",value:e,onChange:e=>s(e.target.value),required:!0})]}),(0,b.jsxs)("div",{className:" mb-4 md:mr-2 md:mb-0",children:[(0,b.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700 ",htmlFor:"lastName",children:"Last Name"}),(0,b.jsx)("input",{className:"bg-gray-200 text-gray-700 focus:outline-none focus:ring-2 focus:ring-cyan-600 focus:shadow-md border border-gray-300 rounded py-2 px-4 block w-full",id:"lastName",type:"text",placeholder:"Last Name",value:r,onChange:e=>t(e.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"md:ml-2",children:[(0,b.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"username",children:"User Name"}),(0,b.jsx)("input",{className:"bg-gray-200 text-gray-700 focus:outline-none focus:ring-2 focus:ring-cyan-600 focus:shadow-md border border-gray-300 rounded py-2 px-4 block w-full",id:"username",type:"text",placeholder:"User Name",value:x,onChange:e=>g(e.target.value),required:!0})]})]}),(0,b.jsxs)("div",{className:"mb-4 md:flex md:justify-between",children:[(0,b.jsxs)("div",{className:"mb-4 md:mr-2 md:mb-0",children:[(0,b.jsx)("label",{className:"block mb-2 text-sm font-bold  text-gray-700",htmlFor:"country",children:"Country"}),(0,b.jsx)("input",{className:"bg-gray-200 text-gray-700 focus:outline-none focus:ring-2 focus:ring-cyan-600 focus:shadow-md border border-gray-300 rounded py-2 px-4 block w-full",id:"country",type:"text",placeholder:"country",value:C,onChange:e=>q(e.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"mb-4 md:mr-2 md:mb-0",children:[(0,b.jsx)("label",{className:"block mb-2 text-sm font-bold  text-gray-700",htmlFor:"phone",children:"Phone Number"}),(0,b.jsx)("input",{className:"bg-gray-200 text-gray-700 focus:outline-none focus:ring-2 focus:ring-cyan-600 focus:shadow-md border border-gray-300 rounded py-2 px-4 block w-full",id:"phone",type:"text",placeholder:"enter your phone",pattern:"^\\+20\\d{10}$",title:"Phone number must start with +2 and contain 11 digits.",value:U,onChange:e=>B(e.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"md:ml-2",children:[(0,b.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"lastName",children:"Date of Birth"}),(0,b.jsx)("input",{className:"bg-gray-200  text-gray-700 focus:outline-none focus:ring-2 focus:ring-cyan-600 focus:shadow-md border border-gray-300 rounded py-2 px-4 block w-full",id:"date_of_birth",type:"date",value:_,onChange:e=>R(e.target.value),required:!0})]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block mb-2 text-sm font-bold  text-gray-700",htmlFor:"address",children:"Address"}),(0,b.jsx)("input",{className:"bg-gray-200 text-gray-700 focus:outline-none focus:ring-2 focus:ring-cyan-600 focus:shadow-md border border-gray-300 rounded py-2 px-4 block w-full",id:"address",type:"text",placeholder:"enter your address",value:F,onChange:e=>P(e.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",htmlFor:"email",children:"Email"}),(0,b.jsx)("input",{className:"bg-gray-200 text-gray-700 focus:outline-none focus:ring-2 focus:ring-cyan-600 focus:shadow-md border border-gray-300 rounded py-2 px-4 block w-full",id:"email",type:"text",value:h,onChange:e=>{f(e.target.value)},required:!0})]}),(0,b.jsxs)("div",{className:"mb-4 md:flex md:justify-between",children:[(0,b.jsxs)("div",{className:"mb-4 md:mr-2 w-1/2 md:mb-0 relative",children:[(0,b.jsx)("label",{className:"block mb-2 text-sm font-bold  text-gray-700 ",htmlFor:"password",children:"Password"}),(0,b.jsx)("input",{className:"bg-gray-200 text-gray-700 focus:outline-none focus:ring-2 focus:ring-cyan-600 focus:shadow-md border border-gray-300 rounded py-2 px-4 block w-full",id:"password",type:A?"text":"password",placeholder:"******************",value:y,onFocus:()=>v(!0),onBlur:()=>{k&&v(!1)},onChange:e=>{const s=e.target.value;p(s),S((e=>{const s=/[A-Z]/.test(e),r=/[a-z]/.test(e),t=/\d/.test(e),a=/[@#$%^&*(),.?":{}|<>]/.test(e);return s&&r&&t&&a})(s))},required:!0}),(0,b.jsx)("button",{className:"absolute right-4 top-9 text-3xl",type:"button",onClick:()=>{D((e=>!e))},children:A?(0,b.jsx)(u.GKB,{}):(0,b.jsx)(u.wT3,{})})]}),(0,b.jsxs)("div",{className:"mb-4 md:mr-2  w-1/2 md:mb-0 relative",children:[(0,b.jsx)("label",{className:"block mb-2 text-sm font-bold  text-gray-700 ",htmlFor:"confirmPassword",children:"Confirm Password"}),(0,b.jsx)("input",{className:"bg-gray-200 text-gray-700 focus:outline-none focus:ring-2 focus:ring-cyan-600 focus:shadow-md border border-gray-300 rounded py-2 px-4 block w-full",id:"confirmPassword",type:A?"text":"password",placeholder:"******************",value:w,onChange:e=>j(e.target.value),required:!0}),(0,b.jsx)("button",{className:"absolute right-4 top-9 text-3xl",type:"button",onClick:()=>{I((e=>!e))},children:G?(0,b.jsx)(u.GKB,{}):(0,b.jsx)(u.wT3,{})})]})]}),N&&!k&&(0,b.jsx)(o.Z,{severity:"info",className:"mt-2",children:"Password must include uppercase, lowercase, digit, and special character."}),y!==w&&(0,b.jsx)(o.Z,{severity:"error",className:"mt-2",children:"Passwords do not match."}),E&&(0,b.jsx)(o.Z,{className:"p-5 my-2",severity:"error",children:E}),(0,b.jsx)("div",{className:" text-center",children:(0,b.jsx)("button",{type:"submit",className:`mt-8 font-bold py-2 px-4 w-full rounded ${$?"bg-gray-400 cursor-not-allowed":"bg-cyan-800 hover:bg-cyan-600"} text-white`,disabled:$,children:$?"Registering...":"Register"})})]})]}),(0,b.jsx)("div",{className:"hidden lg:block lg:w-1/3 bg-cover bg-gradient-to-br from-cyan-800 to-cyan-400",children:(0,b.jsxs)("div",{className:"flex items-center  justify-center flex-col h-full",children:[(0,b.jsx)("img",{src:d,alt:"Logo",className:"w-60"}),(0,b.jsx)(i.rU,{to:"/login",className:" text-center text-white font-bold py-2 border border-white  w-36 rounded-full ",children:"Sign In"})]})})]})]})}}}]);
//# sourceMappingURL=4577.f9349d3f.chunk.js.map