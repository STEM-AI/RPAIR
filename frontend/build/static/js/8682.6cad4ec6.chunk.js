"use strict";(self.webpackChunkforntend=self.webpackChunkforntend||[]).push([[8682],{8682:(e,a,t)=>{t.r(a),t.d(a,{default:()=>u});var n=t(2791),o=t(1830),s=t.n(o),l=t(2903),r=t(8402),c=t(3553),i=t(7457),d=t(184);const u=()=>{const[e,a]=(0,n.useState)(""),[t,o]=(0,n.useState)({name:"",start_date:"",end_date:"",location:"",category:"Mini",fees:200,age:"00-00"}),[u,m]=(0,n.useState)(!1),[g,h]=(0,n.useState)(null),[p,b]=(0,n.useState)(""),x=localStorage.getItem("access_token");if(!x)return(0,d.jsx)("div",{className:"text-red-600 text-center mt-8",children:"You are not authorized. Please log in."});const y=e=>{const{name:a,value:t}=e.target;o((e=>({...e,[a]:t})))};return(0,d.jsxs)("div",{className:"container px-4",children:[(0,d.jsx)("h2",{className:"mb-4 tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-cyan-950 to-cyan-500 text-5xl py-2 font-black",children:"Create Event"}),g&&(0,d.jsx)(i.Z,{sx:{width:"100%"},spacing:2,children:(0,d.jsxs)(r.Z,{severity:p,children:[(0,d.jsx)(c.Z,{children:"success"===p?"Success":"Error"}),g]})}),(0,d.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),m(!0),h(null);try{await l.Z.post(`https://rpair.org/api/admin/${e}/event/`,t,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`}}),b("success"),s().fire({icon:"success",title:"Success",text:"Registration successful!",showConfirmButton:!1}),h("Event created successfully!"),o({name:"",competition_name:"",start_date:"",end_date:"",location:"",category:"",fees:200,age:""})}catch(c){var n,r;console.error("Error Response:",c.response),console.error("Error :",c),b("error"),h((null===(n=c.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"Failed to create the event. Please try again.")}finally{m(!1)}},className:"grid grid-cols-1 gap-6",children:[(0,d.jsxs)("div",{className:"p-2",children:[(0,d.jsx)("label",{htmlFor:"competition_name",className:"block text-gray-700 font-bold",children:"Competition Name:"}),(0,d.jsxs)("select",{id:"competition_name",name:"competition_name",value:e,onChange:e=>a(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2",required:!0,children:[(0,d.jsx)("option",{value:"",children:"Select Competition"}),[{value:"vex_iq",label:"VEX IQ"},{value:"vex_123",label:"VEX 123"},{value:"vex_go",label:"Vex GO"}].map((e=>(0,d.jsx)("option",{value:e.value,children:e.label},e.value)))]})]}),(0,d.jsxs)("div",{className:"p-2",children:[(0,d.jsx)("label",{htmlFor:"name",className:"block text-gray-700 font-bold",children:"Event Name:"}),(0,d.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"Enter Event name",value:t.name,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2"})]}),(0,d.jsxs)("div",{className:"p-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"start_date",className:"block text-gray-700 font-bold",children:"Start Date:"}),(0,d.jsx)("input",{type:"date",id:"start_date",name:"start_date",value:t.start_date,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"end_date",className:"block text-gray-700 font-bold",children:"End Date:"}),(0,d.jsx)("input",{type:"date",id:"end_date",name:"end_date",value:t.end_date,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2"})]})]}),(0,d.jsxs)("div",{className:"p-2",children:[(0,d.jsx)("label",{htmlFor:"location",className:"block text-gray-700 font-bold",children:"Location:"}),(0,d.jsx)("input",{type:"text",id:"location",name:"location",placeholder:"Enter the location",value:t.location,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2"})]}),(0,d.jsxs)("div",{className:"p-2",children:[(0,d.jsx)("label",{htmlFor:"category",className:"block text-gray-700 font-bold",children:"Category:"}),(0,d.jsxs)("select",{id:"category",name:"category",value:t.category,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2",children:[(0,d.jsx)("option",{value:"Mini",children:"Mini"}),(0,d.jsx)("option",{value:"Small",children:"Small"}),(0,d.jsx)("option",{value:"Regional",children:"Regional"}),(0,d.jsx)("option",{value:"National",children:"National"}),(0,d.jsx)("option",{value:"International",children:"International"})]})]}),(0,d.jsxs)("div",{className:"p-2",children:[(0,d.jsx)("label",{htmlFor:"fees",className:"block text-gray-700 font-bold",children:"Fees:"}),(0,d.jsx)("input",{type:"number",id:"fees",name:"fees",value:t.fees,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2"})]}),(0,d.jsxs)("div",{className:"p-2",children:[(0,d.jsx)("label",{htmlFor:"age",className:"block text-gray-700 font-bold",children:"Age Range:"}),(0,d.jsx)("input",{type:"text",id:"age",name:"age",placeholder:"Enter age range (e.g., 10-15)",value:t.age,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2"})]}),(0,d.jsx)("div",{className:"col-span-full mt-6 p-2",children:(0,d.jsx)("button",{type:"submit",disabled:u,className:"block w-full bg-cyan-500 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-full",children:u?"Submitting...":"Submit"})})]})]})}}}]);
//# sourceMappingURL=8682.6cad4ec6.chunk.js.map