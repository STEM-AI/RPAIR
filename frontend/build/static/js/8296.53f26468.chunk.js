"use strict";(self.webpackChunkforntend=self.webpackChunkforntend||[]).push([[8296],{8296:(e,l,a)=>{a.r(l),a.d(l,{default:()=>d});var t=a(2791),s=a(2903),r=a(8402),n=a(3553),o=a(7457),i=a(184);const c=[{value:"vex_iq",label:"VEX IQ"},{value:"vex_123",label:"VEX 123"},{value:"vex_go",label:"Vex GO"},{value:"web_design",label:"Web Design"},{value:"open_source",label:"Open Source"},{value:"mobile_application",label:"Mobile Application"},{value:"programming",label:"Programming"},{value:"artificial_intelligence",label:"Artificial Intelligence"},{value:"fablab",label:"Fablab"},{value:"st_math",label:"ST Math"},{value:"graphic_design",label:"Graphic Design"}],d=()=>{const[e,l]=(0,t.useState)({name:"",type:"",rules:"",description:"",image:null}),[a,d]=(0,t.useState)(null),[u,m]=(0,t.useState)(!1),[p,b]=(0,t.useState)(null),[h,g]=(0,t.useState)(""),x=localStorage.getItem("access_token");if(!x)return(0,i.jsx)("div",{className:"text-red-600 text-center mt-8",children:"You are not authorized. Please log in."});const f=e=>{const{name:a,value:t}=e.target;l((e=>({...e,[a]:t})))};return(0,i.jsxs)("div",{className:"container px-4",children:[(0,i.jsx)("h2",{className:"mb-4 tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-cyan-950 to-cyan-500 text-5xl py-2 font-black",children:"Create Competition"}),p&&(0,i.jsx)(o.Z,{sx:{width:"100%"},spacing:2,children:(0,i.jsxs)(r.Z,{severity:h,children:[(0,i.jsx)(n.Z,{children:"success"===h?"Success":"Error"}),p]})}),(0,i.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),m(!0),b(null);try{const a=new FormData;Object.keys(e).forEach((l=>{a.append(l,e[l])})),await s.Z.post("https://rpair.org/api/competition/create/",a,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${x}`}}),g("success"),b("Event created successfully!"),l({name:"",type:"",rules:"",description:"",image:null}),d(null)}catch(n){var t,r;console.error("Error Response:",n.response),g("error"),b((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Failed to create the event. Please try again.")}finally{m(!1)}},className:"grid grid-cols-1 gap-6",children:[(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("label",{htmlFor:"competition_name",className:"block text-gray-700 font-bold",children:"Competition Name:"}),(0,i.jsx)("select",{id:"competition_name",name:"name",value:e.name,onChange:f,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2",children:c.map((e=>e.options?(0,i.jsx)("optgroup",{label:e.label,children:e.options.map((e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value)))},e.label):(0,i.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("label",{htmlFor:"type",className:"block text-gray-700 font-bold",children:"type:"}),(0,i.jsx)("input",{type:"text",id:"type",name:"type",placeholder:"Enter competition type",value:e.type,onChange:f,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2"})]}),(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("label",{htmlFor:"rules",className:"block text-gray-700 font-bold",children:"rules:"}),(0,i.jsx)("input",{type:"text",id:"rules",name:"rules",value:e.rules,onChange:f,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2"})]}),(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("label",{htmlFor:"description",className:"block text-gray-700 font-bold",children:"Description:"}),(0,i.jsx)("input",{type:"text",id:"description",name:"description",placeholder:"Enter description",value:e.description,onChange:f,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2"})]}),(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("label",{htmlFor:"image",className:"block text-gray-700 font-bold mb-4",children:"Competition Image:"}),(0,i.jsx)("div",{className:"flex flex-col items-center justify-center w-full",children:a?(0,i.jsxs)("div",{className:"relative w-full max-w-2xl",children:[(0,i.jsx)("img",{src:a,alt:"Competition preview",className:"w-full "}),(0,i.jsx)("button",{type:"button",onClick:()=>{d(null),l((e=>({...e,image:null})))},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}):(0,i.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-64 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,i.jsx)("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,i.jsxs)("p",{className:"mb-2 text-sm text-gray-500",children:[(0,i.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG (MAX. 5MB)"})]}),(0,i.jsx)("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:e=>{const a=e.target.files[0];a&&(l((e=>({...e,image:a}))),d(URL.createObjectURL(a)))},className:"hidden"})]})})]}),(0,i.jsx)("div",{className:"col-span-full mt-6 p-2",children:(0,i.jsx)("button",{type:"submit",disabled:u,className:"block w-full bg-cyan-500 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-full",children:u?"Submitting...":"Submit"})})]})]})}}}]);
//# sourceMappingURL=8296.53f26468.chunk.js.map