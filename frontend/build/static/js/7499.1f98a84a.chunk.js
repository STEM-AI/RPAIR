"use strict";(self.webpackChunkforntend=self.webpackChunkforntend||[]).push([[7499],{7499:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var n=s(2791),a=s(2903),r=s(2202),i=s(2602),o=s(184);const c=()=>{const[e,t]=(0,n.useState)([]),[s,c]=(0,n.useState)(!0),[l,d]=(0,n.useState)(null),m=(0,i.s0)(),x=localStorage.getItem("access_token");(0,n.useEffect)((()=>{(async()=>{var e;if(!x)return d("You are not authorized. Please log in."),void c(!1);try{c(!0),d(null);const e=await a.Z.get("https://rpair.org/api/event/judge-event-list/",{headers:{Authorization:`Bearer ${x}`},timeout:1e4});t(e.data),console.log(e.data),c(!1)}catch(s){c(!1);let t="An unexpected error occurred. Please try again.";if("ECONNABORTED"===s.code)t="Request timed out. Please check your connection.";else if(s.response)switch(s.response.status){case 401:t="Your session has expired. Please log in again.";break;case 403:t="You don't have permission to access these events.";break;case 404:t="Events resource not found.";break;case 500:t="Server error. Please try again later.";break;default:t=(null===(e=s.response.data)||void 0===e?void 0:e.message)||t}d(t)}})()}),[x]);return s?(0,o.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-600"})}):l?(0,o.jsx)("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg text-center mt-8",role:"alert",children:l}):(0,o.jsxs)("div",{className:"container mx-auto px-4 ",children:[(0,o.jsx)("h2",{className:"py-4 mb-3 text-center text-4xl font-bold bg-gradient-to-r from-cyan-600 to-cyan-800 bg-clip-text text-transparent",children:"Judge EVENTS"}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.length>0?e.map(((e,t)=>{const s=((e,t)=>{const s=new Date,n=new Date(e),a=new Date(t);return e&&t?s<n?"Upcoming":s>=n&&s<=a?"Ongoing":"Completed":"TBD"})(e.competition_event.start_date,e.competition_event.end_date);return(0,o.jsxs)("div",{className:"relative bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 group",children:[(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsxs)("div",{className:"flex items-center mb-4",children:[(0,o.jsx)("div",{className:"flex-shrink-0 flex items-center justify-center w-12 h-12 bg-cyan-100 rounded-lg",children:(0,o.jsx)(r.V_i,{className:"w-6 h-6 text-cyan-600"})}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:e.competition_event.name||"N/A"}),(0,o.jsxs)("span",{className:"text-sm text-cyan-600 font-medium",children:["Event #",t+1]})]})]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(r.IiJ,{className:"w-5 h-5 text-gray-500 mr-2"}),(0,o.jsxs)("span",{className:"text-sm text-gray-600",children:[e.competition_event.start_date||"TBD"," - ",e.competition_event.end_date||"TBD"]})]}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(r.Nh4,{className:"w-5 h-5 text-gray-500 mr-2"}),(0,o.jsx)("span",{className:"text-sm text-gray-600",children:e.competition_event.location||"Location not specified"})]}),e.description&&(0,o.jsx)("p",{className:"text-sm text-gray-500 mt-3 line-clamp-3",children:e.competition_event.description})]})]}),(0,o.jsx)("div",{className:"px-6 py-3 bg-gray-50 rounded-b-xl border-t border-gray-100",children:(0,o.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,o.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${{Upcoming:"bg-cyan-100 text-cyan-800",Ongoing:"bg-orange-100 text-orange-800",Completed:"bg-green-100 text-green-800",TBD:"bg-gray-100 text-gray-800"}[s]||"bg-gray-100 text-gray-800"}`,children:s}),(0,o.jsxs)("button",{className:"text-cyan-600 hover:text-cyan-700 font-medium flex items-center",onClick:()=>{return t=e.competition_event.competition_name,s=e.competition_event.name,void m(`/Dashboard/Competitions/${t}/${s}`);var t,s},children:["View Details",(0,o.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]},e.id)})):(0,o.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,o.jsx)("div",{className:"text-gray-500 text-lg mb-4",children:"No events found"}),(0,o.jsx)("svg",{className:"w-24 h-24 mx-auto text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]})})]})}}}]);
//# sourceMappingURL=7499.1f98a84a.chunk.js.map