"use strict";(self.webpackChunkforntend=self.webpackChunkforntend||[]).push([[1139],{1139:(e,a,s)=>{s.r(a),s.d(a,{default:()=>c});var t=s(2791),l=s(2903),r=s(3974),n=s(184);const c=()=>{const[e,a]=(0,t.useState)(""),[s,c]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[d,m]=(0,t.useState)(""),[u,x]=(0,t.useState)([]),[g,p]=(0,t.useState)(""),[h,b]=(0,t.useState)(""),[v,f]=(0,t.useState)(!1),y=localStorage.getItem("access_token");(0,t.useEffect)((()=>{i&&j()}),[i]);const j=async()=>{f(!0),p("");try{const e=await l.Z.get(`https://rpair.org/api/competition/${i}/event/`,{headers:{Authorization:`Bearer ${y}`}});x(e.data)}catch(e){p("Failed to fetch events. Please try again.")}finally{f(!1)}};return(0,n.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),p(""),b(""),!d)return void p("Please select an event");const r={stage:e,game_time:s};try{await l.Z.post(`https://rpair.org/api/core/event/${d}/games/schedule/`,r,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}});b("Game schedule created successfully!"),c(""),a(""),setTimeout((()=>b("")),3e3)}catch(g){var n,i;p((null===(n=g.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Error creating schedule")}},className:"max-w-lg mx-auto p-8 bg-white rounded-xl shadow-lg transition-all duration-200 hover:shadow-xl",children:[(0,n.jsxs)("h2",{className:"text-3xl font-bold mb-8 text-gray-800 flex items-center gap-2",children:[(0,n.jsx)(r.vlc,{className:"text-cyan-600"}),"Create Game Schedule"]}),g&&(0,n.jsxs)("div",{className:"mb-6 p-4 text-red-700 bg-red-50 rounded-lg flex items-center gap-2",children:[(0,n.jsx)(r.HR2,{className:"shrink-0"}),(0,n.jsx)("span",{children:g})]}),h&&(0,n.jsxs)("div",{className:"mb-6 p-4 text-green-700 bg-green-50 rounded-lg flex items-center gap-2",children:[(0,n.jsx)(r.HR2,{className:"shrink-0"}),(0,n.jsx)("span",{children:h})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)("label",{className:"block text-sm font-semibold text-gray-600 mb-2 flex items-center gap-1",children:[(0,n.jsx)(r.HR2,{className:"text-cyan-600"}),"Competition Type"]}),(0,n.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all",disabled:v,children:[(0,n.jsx)("option",{value:"",children:"Select Competition Type"}),[{value:"vex_iq",label:"Vex IQ"},{value:"vex_go",label:"Vex GO"},{value:"vex_123",label:"Vex 123"}].map((e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value)))]})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)("label",{className:"block text-sm font-semibold text-gray-600 mb-2 flex items-center gap-1",children:[(0,n.jsx)(r.vlc,{className:"text-cyan-600"}),"Event"]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("select",{value:d,onChange:e=>m(e.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all appearance-none",disabled:!i||v,children:[(0,n.jsx)("option",{value:"",children:v?"Loading events...":"Select Event"}),u.map((e=>(0,n.jsx)("option",{value:e.name,children:e.name},e.id)))]}),v&&(0,n.jsx)(r.dAq,{className:"absolute right-4 top-4 animate-spin text-gray-400"})]})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)("label",{className:"block text-sm font-semibold text-gray-600 mb-2 flex items-center gap-1",children:[(0,n.jsx)(r.HR2,{className:"text-cyan-600"}),"Stage"]}),(0,n.jsxs)("select",{value:e,onChange:e=>a(e.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all",required:!0,children:[(0,n.jsx)("option",{value:"",children:"Select Stage"}),["driver_go","driver_iq","teamwork","auto","coop","coding","vex_123"].map((e=>(0,n.jsx)("option",{value:e,children:e.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase()))},e)))]})]}),(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsxs)("label",{className:"block text-sm font-semibold text-gray-600 mb-2 flex items-center gap-1",children:[(0,n.jsx)(r.TCC,{className:"text-cyan-600"}),"Game Time"]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{type:"time",value:s,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all pr-12",required:!0}),(0,n.jsx)(r.TCC,{className:"absolute right-4 top-4 text-gray-400 pointer-events-none"})]})]}),(0,n.jsx)("button",{type:"submit",disabled:v,className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-3 px-6 rounded-lg transition-all transform hover:scale-[1.02] disabled:opacity-50 flex items-center justify-center gap-2",children:v?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.dAq,{className:"animate-spin"}),"Creating Schedule..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.vlc,{}),"Create Schedule"]})})]})}}}]);
//# sourceMappingURL=1139.9f84267f.chunk.js.map