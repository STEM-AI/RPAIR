"use strict";(self.webpackChunkforntend=self.webpackChunkforntend||[]).push([[9096],{9096:(e,a,s)=>{s.r(a),s.d(a,{default:()=>u});var r=s(2791),n=s(2903),t=s(1830),o=s.n(t),l=s(8402),c=s(3553),d=s(7457),i=s(184);const u=()=>{const[e,a]=(0,r.useState)({first_name:"",last_name:"",username:"",email:"",password:"",country:"",address:"",date_of_birth:"",phone_number:""}),[s,t]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),[h,p]=(0,r.useState)(""),b=localStorage.getItem("access_token");if(!b)return(0,i.jsx)("div",{className:"text-red-600 text-center mt-8",children:"You are not authorized. Please log in."});const y=e=>{const{name:s,value:r}=e.target;a((e=>({...e,[s]:r})))};return(0,i.jsxs)("div",{className:"container mx-auto px-4",children:[(0,i.jsx)("h2",{className:"mb-4 tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-cyan-950 to-cyan-500 text-5xl py-2 font-black",children:"Create Judge"}),u&&(0,i.jsx)(d.Z,{sx:{width:"100%"},spacing:2,children:(0,i.jsxs)(l.Z,{severity:h,children:[(0,i.jsx)(c.Z,{children:"success"===h?"Success":"Error"}),u]})}),(0,i.jsxs)("form",{onSubmit:async s=>{s.preventDefault();const r=e.email.replace("@gmail.com","@rpair.judge.com"),l={...e,email:r};t(!0),m(null),p("");try{await n.Z.post(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL_AUTH}/judge-register/`,l,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`}});p("success"),m("Judge and event created successfully!"),o().fire({icon:"success",title:"Success",text:"Registration successful!",showConfirmButton:!1}),a({first_name:"",last_name:"",username:"",email:"",password:"",country:"",address:"",date_of_birth:"",phone_number:""})}catch(i){var c,d;console.error("Error Response:",i.response),p("error"),m((null===(c=i.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.detail)||"Failed to create the judge. Please try again.")}finally{t(!1)}},className:"grid grid-cols-1 gap-6",children:[(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("label",{htmlFor:"first_name",className:"block text-gray-700 font-bold",children:"First Name:"}),(0,i.jsx)("input",{type:"text",id:"first_name",name:"first_name",placeholder:"Enter first name",value:e.first_name,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2",required:!0})]}),(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("label",{htmlFor:"last_name",className:"block text-gray-700 font-bold",children:"Last Name:"}),(0,i.jsx)("input",{type:"text",id:"last_name",name:"last_name",placeholder:"Enter last name",value:e.last_name,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2",required:!0})]}),(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("label",{htmlFor:"username",className:"block text-gray-700 font-bold",children:"Username:"}),(0,i.jsx)("input",{type:"text",id:"username",name:"username",placeholder:"Enter username",pattern:"^[a-zA-Z0-9@.+\\-_]+$",title:" This value may contain only letters, numbers, and @/./+/-/_ characters",value:e.username,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2",required:!0})]}),(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("label",{htmlFor:"email",className:"block text-gray-700 font-bold",children:"Email:"}),(0,i.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Enter email",value:e.email,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2",required:!0})]}),(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("label",{htmlFor:"password",className:"block text-gray-700 font-bold",children:"Password:"}),(0,i.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"Enter password",value:e.password,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2",required:!0})]}),(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("label",{htmlFor:"country",className:"block text-gray-700 font-bold",children:"Country:"}),(0,i.jsx)("input",{type:"text",id:"country",name:"country",placeholder:"Enter country",value:e.country,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2",required:!0})]}),(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("label",{htmlFor:"address",className:"block text-gray-700 font-bold",children:"Address:"}),(0,i.jsx)("input",{type:"text",id:"address",name:"address",placeholder:"Enter address",value:e.address,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2",required:!0})]}),(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("label",{htmlFor:"date_of_birth",className:"block text-gray-700 font-bold",children:"Date of Birth:"}),(0,i.jsx)("input",{type:"date",id:"date_of_birth",name:"date_of_birth",value:e.date_of_birth,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2",required:!0})]}),(0,i.jsxs)("div",{className:"p-2",children:[(0,i.jsx)("label",{htmlFor:"phone_number",className:"block text-gray-700 font-bold",children:"Phone Number:"}),(0,i.jsx)("input",{type:"text",id:"phone_number",name:"phone_number",placeholder:"enter your phone",pattern:"^\\+20\\d{10}$",title:"Phone number must start with +2 and contain 11 digits.",value:e.phone_number,onChange:y,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2",required:!0})]}),(0,i.jsx)("div",{className:"col-span-full mt-6 p-2",children:(0,i.jsx)("button",{type:"submit",disabled:s,className:"block w-full bg-cyan-500 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-full transition-all duration-200",children:s?"Submitting...":"Create Judge and Event"})})]})]})}}}]);
//# sourceMappingURL=9096.bbd629c0.chunk.js.map