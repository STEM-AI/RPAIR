"use strict";(self.webpackChunkforntend=self.webpackChunkforntend||[]).push([[3530],{3530:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var s=t(2791),l=t(1830),n=t.n(l),r=t(2903),o=t(8402),m=t(3553),i=t(7457),c=t(2187),d=t(4330),x=t(3050),u=t(184);const b=()=>{const[e,a]=(0,s.useState)({event_name:"",competition:"",organization_info:{name:"",address:"",email:"",type:"",contacts:[{phone_number:""}]},name:"",robot_name:"",type:"",team_leader_name:"",team_leader_email:"",team_leader_phone_number:"",sponsors:[{name:"",email:""}],coach:[{name:"",email:"",phone_number:"",position:""}],social_media:[{platform:"",url:""}],previous_competition:[{name:"",year:""}],members:[{name:"",email:"",phone_number:""}]}),[t,l]=(0,s.useState)(!1),[b,p]=(0,s.useState)(null),[h,y]=(0,s.useState)(""),f=(t,s,l,n,r)=>{const o=t.target.value;a(r?e=>{const a=[...e[s][r]];return a[l][n]=o,{...e,[s]:{...e[s],[r]:a}}}:s?e=>({...e,[s]:Array.isArray(e[s])?e[s].map(((e,a)=>a===l?{...e,[n]:o}:e)):{...e[s],[n]:o}}):{...e,[t.target.name]:o})},g=(e,t,s)=>{a(s?a=>({...a,[e]:{...a[e],[s]:[...a[e][s],t]}}):a=>({...a,[e]:[...a[e],t]}))},j=(e,t,s)=>{a(s?a=>({...a,[e]:{...a[e],[s]:a[e][s].filter(((e,a)=>a!==t))}}):a=>({...a,[e]:a[e].filter(((e,a)=>a!==t))}))},N=localStorage.getItem("access_token");if(!N)return(0,u.jsx)("div",{className:"text-red-600 text-center mt-8",children:"You are not authorized. Please log in."});return(0,u.jsxs)("div",{className:"max-w-4xl mx-auto bg-white p-6 rounded-lg shadow-lg",children:[(0,u.jsx)(x.ql,{children:(0,u.jsx)("title",{children:"Create Team"})}),(0,u.jsx)("h2",{className:"mb-5 py-2 text-transparent bg-clip-text bg-gradient-to-r from-cyan-800 to-cyan-500 text-3xl md:text-4xl font-black text-center",children:"Create a Team"}),b&&(0,u.jsx)(i.Z,{sx:{width:"100%"},spacing:2,children:(0,u.jsxs)(o.Z,{severity:h,children:[(0,u.jsx)(m.Z,{children:"success"===h?"Success":"Error"}),b]})}),(0,u.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(!0),p(null);try{const t=await r.Z.post(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL}/team/create/`,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`}});return y("success"),p("Event created successfully!"),console.log("Response Data:",t.data),console.log(" Data:",e),a({event_name:"",competition:"",organization_info:{name:"",address:"",email:"",type:"",contacts:[{phone_number:""}]},name:"",robot_name:"",type:"",team_leader_name:"",team_leader_email:"",team_leader_phone_number:"",sponsors:[{name:"",email:""}],coach:[{name:"",email:"",phone_number:"",position:""}],social_media:[{platform:"",url:""}],previous_competition:[{name:"",year:""}],members:[{name:"",email:"",phone_number:""}]}),n().fire({icon:"success",title:"Success",text:"Registration successful!",showConfirmButton:!1}),t.data}catch(m){var s,o;console.error("Error Response:",m.response),y("error"),p((null===(s=m.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.detail)||"Failed to create the event. Please try again.")}finally{l(!1)}},className:"grid gap-4",children:[(0,u.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 mb-5",children:[(0,u.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Event Name"}),(0,u.jsx)("input",{type:"text",name:"event_name",value:e.event_name,onChange:f,className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),(0,u.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Competition Name"}),(0,u.jsx)("input",{type:"text",name:"competition",value:e.competition,onChange:f,className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]})]}),(0,u.jsxs)("div",{className:"organizationInfo",children:[(0,u.jsx)("h3",{className:"py-2 text-transparent bg-clip-text bg-gradient-to-r from-cyan-800 to-cyan-500 text-2xl font-black",children:"Organization Info:"}),(0,u.jsxs)("div",{className:"md:flex md:justify-between",children:[(0,u.jsxs)("div",{className:"md:mr-2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Organization Name"}),(0,u.jsx)("input",{type:"text",value:e.organization_info.name,onChange:e=>f(e,"organization_info",null,"name"),className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),(0,u.jsxs)("div",{className:"md:mr-2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Address"}),(0,u.jsx)("input",{type:"text",value:e.organization_info.address,onChange:e=>f(e,"organization_info",null,"address"),className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),(0,u.jsxs)("div",{className:"md:mr-2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Type"}),(0,u.jsx)("input",{type:"text",value:e.organization_info.type,onChange:e=>f(e,"organization_info",null,"type"),className:"bg-gray-200 border rounded py-2 px-4 w-full"})]})]}),(0,u.jsxs)("div",{className:"md:mr-2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Email"}),(0,u.jsx)("input",{type:"email",value:e.organization_info.email,onChange:e=>f(e,"organization_info",null,"email"),className:"bg-gray-200 border rounded py-2 px-4 w-full"})]}),(0,u.jsx)("h4",{className:"mt-4 text-lg font-bold",children:"Contacts"}),e.organization_info.contacts.map(((e,a)=>(0,u.jsxs)("div",{className:"flex items-center gap-4",children:[(0,u.jsx)("input",{type:"text",placeholder:"enter your phone",pattern:"^\\+20\\d{10}$",title:"Phone number must start with +2 and contain 12 digits.",value:e.phone_number,onChange:e=>f(e,"organization_info",a,"phone_number","contacts"),className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0}),(0,u.jsx)("button",{type:"button",onClick:()=>j("organization_info",a,"contacts"),className:"text-red-500",children:(0,u.jsx)(d.Nnu,{size:24})})]},a))),(0,u.jsxs)("button",{type:"button",onClick:()=>g("organization_info",{phone_number:""},"contacts"),className:"text-cyan-500 flex items-center mt-2",children:[(0,u.jsx)(c.p8f,{size:24,className:"mr-1"})," Add Contact"]})]}),(0,u.jsxs)("div",{className:"teamInfo",children:[(0,u.jsx)("h3",{className:" py-2 text-transparent bg-clip-text bg-gradient-to-r from-cyan-800 to-cyan-500 text-2xl font-black",children:"Team Info:"}),(0,u.jsxs)("div",{className:" md:flex md:justify-between  ",children:[(0,u.jsxs)("div",{className:" md:mr-2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Team Name"}),(0,u.jsx)("input",{type:"text",name:"name",value:e.name,onChange:f,className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),(0,u.jsxs)("div",{className:" md:mr-2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Robot Name"}),(0,u.jsx)("input",{type:"text",name:"robot_name",value:e.robot_name,onChange:f,className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),(0,u.jsxs)("div",{className:" md:mr-2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Team Type"}),(0,u.jsx)("input",{type:"text",name:"type",value:e.type,onChange:f,className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]})]})]}),(0,u.jsxs)("div",{className:"teamLeader",children:[(0,u.jsx)("h3",{className:" py-2 text-transparent bg-clip-text bg-gradient-to-r from-cyan-800 to-cyan-500 text-2xl font-black",children:"Team Leader Info:"}),(0,u.jsxs)("div",{className:" md:flex md:justify-between",children:[(0,u.jsxs)("div",{className:" md:mr-2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Name"}),(0,u.jsx)("input",{type:"text",name:"team_leader_name",value:e.team_leader_name,onChange:f,className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),(0,u.jsxs)("div",{className:" md:mr-2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Email"}),(0,u.jsx)("input",{type:"email",name:"team_leader_email",value:e.team_leader_email,onChange:f,className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),(0,u.jsxs)("div",{className:"md:mr-2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Phone Number"}),(0,u.jsx)("input",{type:"text",name:"team_leader_phone_number",placeholder:"enter your phone",pattern:"^\\+20\\d{10}$",title:"Phone number must start with +2 and contain 12 digits.",value:e.team_leader_phone_number,onChange:f,className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]})]})]}),(0,u.jsxs)("div",{className:"sponsors",children:[(0,u.jsx)("h3",{className:" py-2 text-transparent bg-clip-text bg-gradient-to-r from-cyan-800 to-cyan-500 text-2xl font-black",children:"Sponsors Info:"}),e.sponsors.map(((e,a)=>(0,u.jsxs)("div",{className:" flex flex-col md:flex-row md:justify-between md:items-center gap-4 mb-5",children:[(0,u.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Name"}),(0,u.jsx)("input",{type:"text",value:e.name,onChange:e=>f(e,"sponsors",a,"name"),className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),(0,u.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Email"}),(0,u.jsx)("input",{type:"email",value:e.email,onChange:e=>f(e,"sponsors",a,"email"),className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),a>=1&&(0,u.jsx)("div",{className:"flex justify-center items-center gap-2 mt-4",children:(0,u.jsx)("button",{type:"button",onClick:()=>j("sponsors",a),children:(0,u.jsx)(d.Nnu,{className:"text-red-500 bg-white text-3xl hover:text-red-700"})})})]},a))),(0,u.jsxs)("button",{type:"button",onClick:()=>g("sponsors",{name:"",email:""}),className:"text-cyan-500 flex items-center mt-2",children:[(0,u.jsx)(c.p8f,{size:24,className:"mr-1"})," Add Sponsor"]})]}),(0,u.jsxs)("div",{className:"previous_competition",children:[(0,u.jsx)("h3",{className:" py-2 text-transparent bg-clip-text bg-gradient-to-r from-cyan-800 to-cyan-500 text-2xl font-black",children:"Previous Competition :"}),e.previous_competition.map(((e,a)=>(0,u.jsxs)("div",{className:" flex flex-col md:flex-row md:justify-between md:items-center gap-4 mb-5",children:[(0,u.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Name"}),(0,u.jsx)("input",{type:"text",value:e.name,onChange:e=>f(e,"previous_competition",a,"name"),className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),(0,u.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Year"}),(0,u.jsx)("input",{type:"date",value:e.year,onChange:e=>f(e,"previous_competition",a,"year"),className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),a>=1&&(0,u.jsx)("div",{className:"flex justify-center items-center gap-2 mt-4",children:(0,u.jsx)("button",{type:"button",onClick:()=>j("previous_competition",a),children:(0,u.jsx)(d.Nnu,{className:"text-red-500 bg-white text-3xl hover:text-red-700"})})})]},a))),(0,u.jsxs)("button",{type:"button",onClick:()=>g("previous_competition",{name:"",year:""}),className:"text-cyan-500 flex items-center mt-2",children:[(0,u.jsx)(c.p8f,{size:24,className:"mr-1"})," Add Previous Competition"]})]}),(0,u.jsxs)("div",{className:"coach",children:[(0,u.jsx)("h3",{className:" py-2 text-transparent bg-clip-text bg-gradient-to-r from-cyan-800 to-cyan-500 text-2xl font-black",children:"coaches Info  :"}),e.coach.map(((e,a)=>(0,u.jsxs)("div",{className:"",children:[(0,u.jsxs)("div",{className:" flex flex-col md:flex-row md:justify-between md:items-center gap-4 mb-5",children:[(0,u.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Name"}),(0,u.jsx)("input",{type:"text",value:e.name,onChange:e=>f(e,"coach",a,"name"),className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),(0,u.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Email"}),(0,u.jsx)("input",{type:"email",value:e.email,onChange:e=>f(e,"coach",a,"email"),className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]})]}),(0,u.jsxs)("div",{className:" flex flex-col md:flex-row md:justify-between md:items-center gap-4 mb-5",children:[(0,u.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Phone Number"}),(0,u.jsx)("input",{type:"text",placeholder:"enter your phone",pattern:"^\\+20\\d{10}$",title:"Phone number must start with +2 and contain 12 digits.",value:e.phone_number,onChange:e=>f(e,"coach",a,"phone_number"),className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),(0,u.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Position"}),(0,u.jsx)("input",{type:"text",value:e.position,onChange:e=>f(e,"coach",a,"position"),className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),a>=1&&(0,u.jsx)("div",{className:"flex justify-center items-center gap-2 mt-4",children:(0,u.jsx)("button",{type:"button",onClick:()=>j("coach",a),children:(0,u.jsx)(d.Nnu,{className:"text-red-500 bg-white text-3xl hover:text-red-700"})})})]})]},a))),(0,u.jsxs)("button",{type:"button",onClick:()=>g("coach",{name:"",email:"",phone_number:"",position:""}),className:"text-cyan-500 flex items-center mt-2",children:[(0,u.jsx)(c.p8f,{size:24,className:"mr-1"})," Add coach"]})]}),(0,u.jsxs)("div",{className:"members",children:[(0,u.jsx)("h3",{className:" py-2 text-transparent bg-clip-text bg-gradient-to-r from-cyan-800 to-cyan-500 text-2xl font-black",children:"Members Info  :"}),e.members.map(((e,a)=>(0,u.jsxs)("div",{className:"",children:[(0,u.jsxs)("div",{className:" flex flex-col md:flex-row md:justify-between md:items-center gap-4 mb-5",children:[(0,u.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Name"}),(0,u.jsx)("input",{type:"text",value:e.name,onChange:e=>f(e,"members",a,"name"),className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),(0,u.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Email"}),(0,u.jsx)("input",{type:"email",value:e.email,onChange:e=>f(e,"members",a,"email"),className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]})]}),(0,u.jsxs)("div",{className:" flex flex-col md:flex-row md:justify-between md:items-center gap-4 mb-5",children:[(0,u.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"Phone Number"}),(0,u.jsx)("input",{type:"text",placeholder:"enter your phone",pattern:"^\\+20\\d{10}$",title:"Phone number must start with +2 and contain 12 digits.",value:e.phone_number,onChange:e=>f(e,"members",a,"phone_number"),className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),a>=1&&(0,u.jsx)("div",{className:"flex justify-center items-center gap-2 mt-4",children:(0,u.jsx)("button",{type:"button",onClick:()=>j("members",a),children:(0,u.jsx)(d.Nnu,{className:"text-red-500 bg-white text-3xl hover:text-red-700"})})})]})]},a))),(0,u.jsxs)("button",{type:"button",onClick:()=>g("members",{name:"",email:"",phone_number:""}),className:"text-cyan-500 flex items-center mt-2",children:[(0,u.jsx)(c.p8f,{size:24,className:"mr-1"})," Add Member"]})]}),(0,u.jsxs)("div",{className:"social_media",children:[(0,u.jsx)("h3",{className:" py-2 text-transparent bg-clip-text bg-gradient-to-r from-cyan-800 to-cyan-500 text-2xl font-black",children:"Social Media :"}),e.social_media.map(((e,a)=>(0,u.jsxs)("div",{className:" flex flex-col md:flex-row md:justify-between md:items-center gap-4 mb-5",children:[(0,u.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"platform"}),(0,u.jsx)("input",{type:"text",value:e.platform,onChange:e=>f(e,"social_media",a,"platform"),className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),(0,u.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,u.jsx)("label",{className:"block mb-2 text-sm font-bold text-gray-700",children:"URL"}),(0,u.jsx)("input",{type:"url",value:e.url,onChange:e=>f(e,"social_media",a,"url"),className:"bg-gray-200 border rounded py-2 px-4 w-full",required:!0})]}),a>=1&&(0,u.jsx)("div",{className:"flex justify-center items-center gap-2 mt-4",children:(0,u.jsx)("button",{type:"button",onClick:()=>j("social_media",a),children:(0,u.jsx)(d.Nnu,{className:"text-red-500 bg-white text-3xl hover:text-red-700"})})})]},a))),(0,u.jsxs)("button",{type:"button",onClick:()=>g("social_media",{platform:"",url:""}),className:"text-cyan-500 flex items-center mt-2",children:[(0,u.jsx)(c.p8f,{size:24,className:"mr-1"})," Add social media"]})]}),(0,u.jsx)("button",{type:"submit",disabled:t,className:"bg-cyan-800 text-white py-2 px-4 rounded hover:bg-cyan-600 "+(t?"opacity-50 cursor-not-allowed":""),children:t?"Creating Team...":"Create Team"})]})]})}}}]);
//# sourceMappingURL=3530.194b9b95.chunk.js.map