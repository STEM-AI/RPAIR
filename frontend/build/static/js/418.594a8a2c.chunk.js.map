{"version":3,"file":"static/js/418.594a8a2c.chunk.js","mappings":"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","sources":["pages/AccountSetting/AllSetting.jsx"],"sourcesContent":["\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Swal from \"sweetalert2\";\r\nimport axios from \"axios\";\r\nimport { Helmet } from \"react-helmet-async\";\r\n\r\nfunction Setting() {\r\n  const [userData, setUserData] = useState({\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n    username: \"\",\r\n    email: \"\",\r\n    country: \"\",\r\n    phone_number: \"\",\r\n    date_of_birth: \"\",\r\n    address: \"\",\r\n  });\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [saving, setSaving] = useState(false);\r\n  const token = localStorage.getItem(\"access_token\");\r\n\r\n  useEffect(() => {\r\n    const fetchUserData = async () => {\r\n      if (!token) {\r\n        setError(\"Authentication Error\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const { data } = await axios.get(`${process.env.REACT_APP_API_URL}/user/data/profile/`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        setUserData({\r\n          first_name: data.first_name || \"\",\r\n          last_name: data.last_name || \"\",\r\n          username: data.username || \"\",\r\n          email: data.email || \"\",\r\n          country: data.country || \"\",\r\n          phone_number: data.phone_number || \"\",\r\n          date_of_birth: data.date_of_birth || \"\",\r\n          address: data.address || \"\",\r\n        });\r\n      } catch {\r\n        setError(\"Failed to load user data\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUserData();\r\n  }, [token]);\r\n\r\n  const handleChange = (e) => {\r\n    setUserData({ ...userData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!token) {\r\n      setError(\"Authentication Error\");\r\n      return;\r\n    }\r\n    setSaving(true);\r\n\r\n    const updatedData = {\r\n      first_name: userData.first_name,\r\n      last_name: userData.last_name,\r\n      username: userData.username,\r\n      email: userData.email,\r\n      country: userData.country,\r\n    };\r\n\r\n    try {\r\n      await axios.patch(\r\n        `${process.env.REACT_APP_API_URL}/user/data/edit-profile/`,\r\n        updatedData,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      Swal.fire({\r\n        icon: \"success\",\r\n        title: \"Success\",\r\n        text: \"Profile updated successfully!\",\r\n        showConfirmButton: false,\r\n      });\r\n    } catch (error) {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Error\",\r\n        text: error.response?.data?.message || \"Failed to save changes\",\r\n      });\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <p className=\"text-center text-cyan-600\">Loading...</p>;\r\n  if (error) return <p className=\"text-center text-red-600\">{error}</p>;\r\n\r\n  return (\r\n    <div className=\"max-w-3xl mx-auto bg-white p-8 shadow-lg rounded-xl mt-10 border border-gray-200\">\r\n      <Helmet>\r\n          <title>Account Settings</title>\r\n      </Helmet>\r\n      <h2 className=\"text-3xl font-bold text-cyan-600 mb-6 text-center\">Account Settings</h2>\r\n      <div className=\"grid grid-cols-2 gap-6\">\r\n        {Object.keys(userData).map((key) => (\r\n          <div key={key} className=\"col-span-2 sm:col-span-1\">\r\n            <label className=\"block text-sm font-semibold text-gray-700\">{key.replace(\"_\", \" \").toUpperCase()}</label>\r\n            <input\r\n              type={key === \"email\" ? \"email\" : \"text\"}\r\n              name={key}\r\n              value={userData[key]}\r\n              onChange={key === \"phone_number\" || key === \"date_of_birth\" ? undefined : handleChange}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-600 focus:border-cyan-600\"\r\n              readOnly={key === \"phone_number\" || key === \"date_of_birth\"}\r\n            />\r\n          </div>\r\n        ))}\r\n        <div className=\"col-span-2 flex justify-center\">\r\n          <button\r\n            onClick={handleSave}\r\n            disabled={saving}\r\n            className=\"w-1/2 bg-cyan-600 text-white py-3 rounded-lg font-semibold hover:bg-cyan-700 transition text-lg\"\r\n          >\r\n            {saving ? \"Saving...\" : \"Save Changes\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Setting;"],"names":["userData","setUserData","useState","first_name","last_name","username","email","country","phone_number","date_of_birth","address","loading","setLoading","error","setError","saving","setSaving","token","localStorage","getItem","useEffect","async","data","axios","get","headers","Authorization","fetchUserData","handleChange","e","target","name","value","_jsx","className","children","_jsxs","Helmet","Object","keys","map","key","replace","toUpperCase","type","onChange","undefined","readOnly","onClick","updatedData","patch","Swal","icon","title","text","showConfirmButton","_error$response","_error$response$data","response","message","disabled"],"sourceRoot":""}