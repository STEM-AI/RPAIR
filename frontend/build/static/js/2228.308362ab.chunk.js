"use strict";(self.webpackChunkforntend=self.webpackChunkforntend||[]).push([[2228],{2228:(e,a,s)=>{s.r(a),s.d(a,{default:()=>c});var t=s(2791),n=s(2903),r=s(2602),m=s(8402),i=s(3553),l=s(2910),o=s(184);const c=()=>{const{team_name:e}=(0,r.UO)(),[a,s]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[x,h]=(0,t.useState)(""),[u,N]=(0,t.useState)(null),[g,p]=(0,t.useState)(""),[j,v]=(0,t.useState)(""),_=localStorage.getItem("access_token");(0,t.useEffect)((()=>{if(!_)return N("You are not authorized. Please log in."),void p("error");(async()=>{try{const a=await n.Z.get(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL}/team/user/${e}`,{headers:{Authorization:`Bearer ${_}`}});v(a.data.role)}catch(a){console.error("Failed to fetch user role",a)}})(),(async()=>{try{const e=await n.Z.get(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL}/team/user/`,{headers:{Authorization:`Bearer ${_}`}});s(e.data),d(e.data)}catch(e){e.response&&401===e.response.status?(p("error"),N("Unauthorized access. Please check your token.")):(p("error"),N("Failed to fetch teams. Please try again."))}})()}),[_]);return _?(0,o.jsxs)("div",{className:"container max-w-6xl",children:[(0,o.jsx)("h2",{className:"mb-8 tracking-tight text-center bg-clip-text text-transparent bg-gradient-to-r from-cyan-950 to-cyan-500 text-5xl font-extrabold",children:"All Teams"}),u&&(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsxs)(m.Z,{severity:g,children:[(0,o.jsx)(i.Z,{children:"success"===g?"Success":"Error"}),u]})}),(0,o.jsx)("div",{className:"mb-6 flex justify-center",children:(0,o.jsx)(l.Z,{label:"Search Teams",variant:"outlined",value:x,onChange:e=>{const s=e.target.value;h(s);const t=a.filter((e=>{var a;return null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(s.toLowerCase())}));d(t)},fullWidth:!0,sx:{maxWidth:400}})}),(0,o.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((e=>{var a,s,t,n,m;return(0,o.jsx)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300",children:(0,o.jsxs)("div",{className:"px-6 py-4",children:[(0,o.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:e.name||"Unnamed Team"}),(0,o.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Competition: ",(0,o.jsx)("span",{className:"font-medium",children:e.competition_event||"N/A"})]}),(0,o.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Organization: ",(0,o.jsx)("span",{className:"font-medium",children:(null===(a=e.organization)||void 0===a?void 0:a.name)||"N/A"})]}),"Admin"===j?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Phone Number: ",(0,o.jsx)("span",{className:"font-medium",children:e.team_leader_phone_number||"N/A"})]}),(0,o.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Members: ",(0,o.jsx)("span",{className:"font-medium",children:(null===(s=e.members)||void 0===s?void 0:s.map((e=>e.name)).join(", "))||"N/A"})]}),(0,o.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Robot Name: ",(0,o.jsx)("span",{className:"font-medium",children:e.robot_name||"N/A"})]}),(0,o.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Coach: ",(0,o.jsx)("span",{className:"font-medium",children:(null===(t=e.coach)||void 0===t?void 0:t.name)||"N/A"})]}),(0,o.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Team Leader: ",(0,o.jsx)("span",{className:"font-medium",children:e.team_leader_name||"N/A"})]})]}):"Judge"===j&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Members: ",(0,o.jsx)("span",{className:"font-medium",children:(null===(n=e.members)||void 0===n?void 0:n.map((e=>e.name)).join(", "))||"N/A"})]}),(0,o.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Robot Name: ",(0,o.jsx)("span",{className:"font-medium",children:e.robot_name||"N/A"})]}),(0,o.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Coach: ",(0,o.jsx)("span",{className:"font-medium",children:(null===(m=e.coach)||void 0===m?void 0:m.name)||"N/A"})]}),(0,o.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Team Leader: ",(0,o.jsx)("span",{className:"font-medium",children:e.team_leader_name||"N/A"})]})]}),(0,o.jsx)(r.rU,{to:`/Dashboard/Teams/User/${e.name?e.name:""}`,className:"inline-block mt-4 px-4 py-2 text-sm font-medium text-white bg-cyan-600 rounded-lg hover:bg-cyan-700 transition-colors duration-300",children:"View Details"})]})},e.id)}))})]}):(0,o.jsx)("div",{className:"text-red-600 text-center ",children:u})}}}]);
//# sourceMappingURL=2228.308362ab.chunk.js.map