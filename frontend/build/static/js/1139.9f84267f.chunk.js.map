{"version":3,"file":"static/js/1139.9f84267f.chunk.js","mappings":"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","sources":["pages/Dashboards/AdminDashboard/Management/CreateSchedule/GameScheduleForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { FiClock, FiCalendar, FiAward, FiLoader } from \"react-icons/fi\";\r\n\r\nconst GameScheduleForm = () => {\r\n  const [selectedStage, setSelectedStage] = useState(\"\");\r\n  const [gameTime, setGameTime] = useState(\"\");\r\n  const [eventName, setEventName] = useState(\"\");\r\n  const [selectedEvent, setSelectedEvent] = useState(\"\");\r\n  const [events, setEvents] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const token = localStorage.getItem(\"access_token\");\r\n\r\n  const stagesOptions = [\r\n    \"driver_go\",\r\n    \"driver_iq\",\r\n    \"teamwork\",\r\n    \"auto\",\r\n    \"coop\",\r\n    \"coding\",\r\n    \"vex_123\",\r\n  ];\r\n\r\n  const competitionOptions = [\r\n    { value: \"vex_iq\", label: \"Vex IQ\" },\r\n    { value: \"vex_go\", label: \"Vex GO\" },\r\n    { value: \"vex_123\", label: \"Vex 123\" },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (eventName) {\r\n      fetchEvents();\r\n    }\r\n  }, [eventName]);\r\n\r\n  const fetchEvents = async () => {\r\n    setIsLoading(true);\r\n    setError(\"\");\r\n    try {\r\n      const response = await axios.get(\r\n        `${process.env.REACT_APP_API_URL}/competition/${eventName}/event/`,\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      setEvents(response.data);\r\n    } catch (err) {\r\n      setError(\"Failed to fetch events. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccessMessage(\"\");\r\n\r\n    if (!selectedEvent) {\r\n      setError(\"Please select an event\");\r\n      return;\r\n    }\r\n\r\n    const formData = {\r\n      stage: selectedStage,\r\n      game_time: gameTime,\r\n    };\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/core/event/${selectedEvent}/games/schedule/`,\r\n        formData,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n      \r\n      // إدارة النجاح داخليًا\r\n      setSuccessMessage(\"Game schedule created successfully!\");\r\n      setGameTime(\"\");\r\n      setSelectedStage(\"\");\r\n      setTimeout(() => setSuccessMessage(\"\"), 3000); // إخفاء الرسالة بعد 3 ثواني\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || \"Error creating schedule\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"max-w-lg mx-auto p-8 bg-white rounded-xl shadow-lg transition-all duration-200 hover:shadow-xl\">\r\n      <h2 className=\"text-3xl font-bold mb-8 text-gray-800 flex items-center gap-2\">\r\n        <FiCalendar className=\"text-cyan-600\" />\r\n        Create Game Schedule\r\n      </h2>\r\n\r\n      {/* Messages */}\r\n      {error && (\r\n        <div className=\"mb-6 p-4 text-red-700 bg-red-50 rounded-lg flex items-center gap-2\">\r\n          <FiAward className=\"shrink-0\" />\r\n          <span>{error}</span>\r\n        </div>\r\n      )}\r\n      {successMessage && (\r\n        <div className=\"mb-6 p-4 text-green-700 bg-green-50 rounded-lg flex items-center gap-2\">\r\n          <FiAward className=\"shrink-0\" />\r\n          <span>{successMessage}</span>\r\n        </div>\r\n      )}\r\n\r\n      {/* Competition Type */}\r\n      <div className=\"mb-6\">\r\n        <label className=\"block text-sm font-semibold text-gray-600 mb-2 flex items-center gap-1\">\r\n          <FiAward className=\"text-cyan-600\" />\r\n          Competition Type\r\n        </label>\r\n        <select\r\n          value={eventName}\r\n          onChange={(e) => setEventName(e.target.value)}\r\n          className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all\"\r\n          disabled={isLoading}\r\n        >\r\n          <option value=\"\">Select Competition Type</option>\r\n          {competitionOptions.map((option) => (\r\n            <option key={option.value} value={option.value}>\r\n              {option.label}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* Event Selection */}\r\n      <div className=\"mb-6\">\r\n        <label className=\"block text-sm font-semibold text-gray-600 mb-2 flex items-center gap-1\">\r\n          <FiCalendar className=\"text-cyan-600\" />\r\n          Event\r\n        </label>\r\n        <div className=\"relative\">\r\n          <select\r\n            value={selectedEvent}\r\n            onChange={(e) => setSelectedEvent(e.target.value)}\r\n            className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all appearance-none\"\r\n            disabled={!eventName || isLoading}\r\n          >\r\n            <option value=\"\">{isLoading ? 'Loading events...' : 'Select Event'}</option>\r\n            {events.map((event) => (\r\n              <option key={event.id} value={event.name}>\r\n                {event.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          {isLoading && (\r\n            <FiLoader className=\"absolute right-4 top-4 animate-spin text-gray-400\" />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stage Selection */}\r\n      <div className=\"mb-6\">\r\n        <label className=\"block text-sm font-semibold text-gray-600 mb-2 flex items-center gap-1\">\r\n          <FiAward className=\"text-cyan-600\" />\r\n          Stage\r\n        </label>\r\n        <select\r\n          value={selectedStage}\r\n          onChange={(e) => setSelectedStage(e.target.value)}\r\n          className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all\"\r\n          required\r\n        >\r\n          <option value=\"\">Select Stage</option>\r\n          {stagesOptions.map((stage) => (\r\n            <option key={stage} value={stage}>\r\n              {stage.replace(/_/g, ' ').replace(/\\b\\w/g, c => c.toUpperCase())}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* Game Time */}\r\n      <div className=\"mb-8\">\r\n        <label className=\"block text-sm font-semibold text-gray-600 mb-2 flex items-center gap-1\">\r\n          <FiClock className=\"text-cyan-600\" />\r\n          Game Time\r\n        </label>\r\n        <div className=\"relative\">\r\n          <input\r\n            type=\"time\"\r\n            value={gameTime}\r\n            onChange={(e) => setGameTime(e.target.value)}\r\n            className=\"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all pr-12\"\r\n            required\r\n          />\r\n          <FiClock className=\"absolute right-4 top-4 text-gray-400 pointer-events-none\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Submit Button */}\r\n      <button\r\n        type=\"submit\"\r\n        disabled={isLoading}\r\n        className=\"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-3 px-6 rounded-lg transition-all transform hover:scale-[1.02] disabled:opacity-50 flex items-center justify-center gap-2\"\r\n      >\r\n        {isLoading ? (\r\n          <>\r\n            <FiLoader className=\"animate-spin\" />\r\n            Creating Schedule...\r\n          </>\r\n        ) : (\r\n          <>\r\n            <FiCalendar />\r\n            Create Schedule\r\n          </>\r\n        )}\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default GameScheduleForm;"],"names":["GameScheduleForm","selectedStage","setSelectedStage","useState","gameTime","setGameTime","eventName","setEventName","selectedEvent","setSelectedEvent","events","setEvents","error","setError","successMessage","setSuccessMessage","isLoading","setIsLoading","token","localStorage","getItem","useEffect","fetchEvents","async","response","axios","get","headers","Authorization","data","err","_jsxs","onSubmit","e","preventDefault","formData","stage","game_time","post","setTimeout","_error$response","_error$response$data","message","className","children","_jsx","FiCalendar","FiAward","value","onChange","target","disabled","label","map","option","event","name","id","FiLoader","required","replace","c","toUpperCase","FiClock","type","_Fragment"],"sourceRoot":""}