{"version":3,"file":"static/js/5812.11bcbd96.chunk.js","mappings":"iMAwOA,MA0OA,EA1OkBA,KAChB,MAAM,QAAEC,EAAO,gBAAEC,IAAoBC,EAAAA,EAAAA,MAC9BC,EAAaC,IAAkBC,EAAAA,EAAAA,WAAS,IACxCC,EAAQC,IAAaF,EAAAA,EAAAA,UAAS,CAAC,IAC/BG,EAAkBC,IAAuBJ,EAAAA,EAAAA,UAAS,CAAC,GACpDK,GAAWC,EAAAA,EAAAA,MAGXC,EAAW,CACf,CAAEC,GAAI,EAAGC,MAAO,SAAUC,MAAO,UACjC,CAAEF,GAAI,EAAGC,MAAO,SAAUC,MAAO,UACjC,CAAEF,GAAI,EAAGC,MAAO,SAAUC,MAAO,UACjC,CAAEF,GAAI,EAAGC,MAAO,SAAUC,MAAO,UACjC,CAAEF,GAAI,EAAGC,MAAO,SAAUC,MAAO,WA2D7BC,EAAcC,IAClB,MACMC,EAAOD,EAAU,GACvB,MAAO,GAFME,KAAKC,MAAMH,EAAU,OAEhBC,EAAO,GAAK,IAAM,KAAKA,GAAM,EAGjD,OACEG,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sDAAqDC,SAAA,EAGlEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BC,SAAA,EACvCF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,qGAAoGC,SAAA,EAChHC,EAAAA,EAAAA,KAACC,EAAAA,GAAO,CAACH,UAAU,yBAAyB,oBAE9CE,EAAAA,EAAAA,KAAA,KAAGF,UAAU,qCAAoCC,SAAC,6CAIpDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+CAA8CC,SAAA,EAC3DF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4EAA2EC,SAAA,EACxFC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,iDAAgDC,SAAC,WAC/DC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,gDAA+CC,SAAEX,EAASc,aAEzEL,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0EAAyEC,SAAA,EACtFC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,gDAA+CC,SAAC,UAC9DC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,+CAA8CC,SACxDI,OAAOC,OAAOpB,GAAkBqB,OAAOC,SAASJ,aAGrDL,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4EAA2EC,SAAA,EACxFC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,iDAAgDC,SAAC,aAC/DC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,gDAA+CC,SACzDX,EAASc,OAASC,OAAOC,OAAOpB,GAAkBqB,OAAOC,SAASJ,gBAMzEF,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wFAAuFC,UACpGC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kBAAiBC,UAC9BF,EAAAA,EAAAA,MAAA,SAAOC,UAAU,sCAAqCC,SAAA,EACpDC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,gBAAeC,UAC9BF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,uEAAsEC,SAAC,WACrFC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,uEAAsEC,SAAC,WACrFC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,yEAAwEC,SAAC,WACvFC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,8FAA6FC,SAAC,UAC5GC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,yEAAwEC,SAAC,YACvFC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,yEAAwEC,SAAC,kBAG3FC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,oCAAmCC,SACjDX,EAASmB,KAAKC,IAAK,IAAAC,EAAAC,EAAA,OAClBb,EAAAA,EAAAA,MAAA,MAAmBC,UAAWd,EAAiBwB,EAAMnB,IAAM,cAAgB,mBAAmBU,SAAA,EAC5FF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,wEAAuEC,SAAA,CAAC,IAAES,EAAMnB,OAC9FW,EAAAA,EAAAA,KAAA,MAAIF,UAAU,8CAA6CC,UACzDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,QAAAD,SAAOS,EAAMlB,SACbU,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SAAC,SACxCC,EAAAA,EAAAA,KAAA,QAAAD,SAAOS,EAAMjB,cAGjBS,EAAAA,EAAAA,KAAA,MAAIF,UAAU,wCAAuCC,UACjC,QAAjBU,EAAAjC,EAAQgC,EAAMnB,WAAG,IAAAoB,OAAA,EAAjBA,EAAmBE,QAAS,KAE/BX,EAAAA,EAAAA,KAAA,MAAIF,UAAU,6DAA4DC,SACtD,QAAjBW,EAAAlC,EAAQgC,EAAMnB,WAAG,IAAAqB,GAAjBA,EAAmBE,UAAYpB,EAAWhB,EAAQgC,EAAMnB,IAAIuB,WAAa,OAE5EZ,EAAAA,EAAAA,KAAA,MAAIF,UAAU,kDAAiDC,UAC7DC,EAAAA,EAAAA,KAAA,QAAMF,UAAW,uEACfd,EAAiBwB,EAAMnB,IACnB,8BACA,iCACHU,SACAf,EAAiBwB,EAAMnB,IAAM,OAAS,eAG3CQ,EAAAA,EAAAA,MAAA,MAAIC,UAAU,yEAAwEC,SAAA,EACpFF,EAAAA,EAAAA,MAAA,UACEgB,QAASA,IA9HHL,KACxB/B,EAAgB,IACX+B,EACHM,KAAM,OACNC,KAAM,SAER7B,EAAS,aAAa,EAwHW8B,CAAiBR,GAChCS,SAAUjC,EAAiBwB,EAAMnB,IACjCS,UAAW,yCACTd,EAAiBwB,EAAMnB,IACnB,+CACA,4CAEN6B,MAAM,cAAanB,SAAA,EAEnBC,EAAAA,EAAAA,KAACmB,EAAAA,IAAM,CAACrB,UAAU,oBAClBE,EAAAA,EAAAA,KAAA,QAAMF,UAAU,mBAAkBC,SAAC,cAErCF,EAAAA,EAAAA,MAAA,UACEgB,QAASA,KAAMO,OAjITC,EAiI0Bb,EAAMnB,QAhI1DiC,EAAAA,EAAMC,QAAQ,CACZL,MAAO,sBACPM,KAAM,yDAAyD1C,EAAOuC,IAAY,yBAClFI,YAAa,qBACbC,WAAY,SACZC,UAAWA,KAET1C,GAAqB2C,IAAI,IACpBA,EACH,CAACP,IAAU,MAEbC,EAAAA,EAAMO,QAAQ,CACZX,MAAO,mBACPY,KAAM,gDACN,IAfoBT,KAiIoC,EAC1CJ,SAAUjC,EAAiBwB,EAAMnB,IACjCS,UAAW,kEACTd,EAAiBwB,EAAMnB,IACnB,+CACA,8CAEN6B,MAAM,gBAAenB,SAAA,EAErBC,EAAAA,EAAAA,KAAC+B,EAAAA,IAAO,CAACjC,UAAU,aACnBE,EAAAA,EAAAA,KAAA,QAAMF,UAAU,mBAAkBC,SAAC,qBAjDhCS,EAAMnB,GAoDV,cAQfW,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mCAAkCC,UAC/CF,EAAAA,EAAAA,MAAA,UACEgB,QAASA,IAAMjC,GAAgBD,GAC/BmB,UAAU,gLAA+KC,SAAA,EAEzLC,EAAAA,EAAAA,KAACgC,EAAAA,IAAQ,CAAClC,UAAU,iBACnBnB,EAAc,gBAAkB,qBAKpCA,IACCkB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wFAAuFC,SAAA,EACpGF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4DAA2DC,SAAA,EACxEC,EAAAA,EAAAA,KAACiC,EAAAA,IAAU,CAACnC,UAAU,wCACtBE,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0CAAyCC,SAAC,sBAE1DC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kBAAiBC,UAC9BF,EAAAA,EAAAA,MAAA,SAAOC,UAAU,sCAAqCC,SAAA,EACpDC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,eAAcC,UAC7BF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,4EAA2EC,SAAC,UAC1FC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,4EAA2EC,SAAC,UAC1FC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,4EAA2EC,SAAC,WAC1FC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,4EAA2EC,SAAC,gBAG9FC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,oCAAmCC,SA5JtCmC,MACxB,MAAMC,EAAa,CAAC,EAUpB,OARA/C,EAASgD,SAAQ5B,IACf,MACM6B,GADQC,SAASxD,EAAO0B,EAAMnB,MAAQ,GAClB,EAE1B8C,EAAW3B,EAAMlB,QAAU6C,EAAW3B,EAAMlB,QAAU,GAAK+C,EAC3DF,EAAW3B,EAAMjB,QAAU4C,EAAW3B,EAAMjB,QAAU,GAAK8C,CAAS,IAG/DlC,OAAOoC,QAAQJ,GACnB5B,KAAIiC,IAAA,IAAEC,EAAM9B,GAAM6B,EAAA,MAAM,CAAEC,OAAM9B,QAAO,IACvC+B,MAAK,CAACC,EAAGC,IAAMA,EAAEjC,MAAQgC,EAAEhC,OAAM,EAgJvBuB,GAAoB3B,KAAI,CAACkC,EAAMI,KAC9BhD,EAAAA,EAAAA,MAAA,MAAoBC,UAAU,mBAAkBC,SAAA,EAC9CC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,wEAAuEC,SAAE8C,EAAQ,KAC/F7C,EAAAA,EAAAA,KAAA,MAAIF,UAAU,8CAA6CC,SAAE0C,EAAKA,QAClEzC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,wDAAuDC,SAAE0C,EAAK9B,OAAS,KACrFd,EAAAA,EAAAA,MAAA,MAAIC,UAAU,sCAAqCC,SAAA,CACtC,IAAV8C,IAAe7C,EAAAA,EAAAA,KAAA,QAAMF,UAAU,qCAAoCC,SAAC,iBAC1D,IAAV8C,IAAe7C,EAAAA,EAAAA,KAAA,QAAMF,UAAU,mCAAkCC,SAAC,iBACxD,IAAV8C,IAAe7C,EAAAA,EAAAA,KAAA,QAAMF,UAAU,oCAAmCC,SAAC,sBAP/D0C,EAAKA,oBAgBtB,C","sources":["pages/Dashboards/Judge/JudgeComp/Robotics/VexGO/matches/COOPmatches.jsx"],"sourcesContent":["\r\n\r\n// import { useState } from \"react\";\r\n// import { FaTrophy, FaCheck, FaPlay, FaChartBar, FaUsers } from \"react-icons/fa\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n// import { useMatchContext } from \"./MatchContext\";\r\n// import Back from \"../../../../../../../components/Back/Back\"\r\n\r\n// const COOPMatch = () => {\r\n//     const { matches, setCurrentMatch } = useMatchContext(); // Now this exists\r\n\r\n//   const [showRanking, setShowRanking] = useState(false);\r\n//   const [scores, setScores] = useState({});\r\n//   const [completedMatches, setCompletedMatches] = useState({});\r\n//   const navigate = useNavigate();\r\n\r\n//   // Match data\r\n//   const schedule = [\r\n//     { id: 1, team1: \"Team A\", team2: \"Team B\" },\r\n//     { id: 2, team1: \"Team C\", team2: \"Team D\" },\r\n//     { id: 3, team1: \"Team E\", team2: \"Team A\" },\r\n//     { id: 4, team1: \"Team B\", team2: \"Team C\" },\r\n//     { id: 5, team1: \"Team D\", team2: \"Team E\" },\r\n//   ];\r\n\r\n//   // Update match score\r\n//   const handleSaveScore = (matchId, score) => {\r\n//     setScores((prevScores) => ({\r\n//       ...prevScores,\r\n//       [matchId]: score,\r\n//     }));\r\n//   };\r\n\r\n//   // Navigate to SheetGO\r\n//    const handleStartMatch = (match) => { // ✅ تمرير كائن المباراة\r\n//   setCurrentMatch({\r\n//     ...match,\r\n//     type: 'coop', // إضافة النوع\r\n//     mode: 'coop'\r\n//   });\r\n//   navigate(\"/SheetCoop\");\r\n// };\r\n\r\n//   // Mark match as completed\r\n//   const handleMarkAsDone = (matchId) => {\r\n//     setCompletedMatches((prev) => ({\r\n//       ...prev,\r\n//       [matchId]: true,\r\n//     }));\r\n//   };\r\n\r\n//   // Calculate rankings\r\n//   // دالة حساب النقاط المعدلة للفريقين\r\n// const calculateRankings = () => {\r\n//   const teamScores = {};\r\n  \r\n//   schedule.forEach(match => {\r\n//     const score = parseInt(scores[match.id]) || 0;\r\n//     const teamScore = score / 2;\r\n    \r\n//     // توزيع النقاط على الفريقين\r\n//     teamScores[match.team1] = (teamScores[match.team1] || 0) + teamScore;\r\n//     teamScores[match.team2] = (teamScores[match.team2] || 0) + teamScore;\r\n//   });\r\n  \r\n//   return Object.entries(teamScores)\r\n//     .map(([team, score]) => ({ team, score }))\r\n//     .sort((a, b) => b.score - a.score);\r\n//   };\r\n//   const formatTime = (seconds) => {\r\n//     const mins = Math.floor(seconds / 60);\r\n//     const secs = seconds % 60;\r\n//     return `${mins}:${secs < 10 ? '0' : ''}${secs}`;\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n//       <Back />\r\n//       {/* Header */}\r\n//       <div className=\"text-center mb-8\">\r\n//         <h1 className=\"text-3xl font-bold text-indigo-700 mb-2 flex items-center justify-center gap-2\">\r\n//           <FaUsers className=\"text-4xl\" /> COOP Matches\r\n//         </h1>\r\n//         <p className=\"text-lg text-gray-600\">Track and manage cooperative matches</p>\r\n//       </div>\r\n\r\n//       {/* Stats Summary */}\r\n//       <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8\">\r\n//         <div className=\"bg-indigo-50 p-4 rounded-xl border border-indigo-100\">\r\n//           <h3 className=\"text-sm font-medium text-indigo-700\">Total Matches</h3>\r\n//           <p className=\"text-2xl font-bold text-indigo-600\">{schedule.length}</p>\r\n//         </div>\r\n//         <div className=\"bg-green-50 p-4 rounded-xl border border-green-100\">\r\n//           <h3 className=\"text-sm font-medium text-green-700\">Completed</h3>\r\n//           <p className=\"text-2xl font-bold text-green-600\">\r\n//             {Object.values(completedMatches).filter(Boolean).length}\r\n//           </p>\r\n//         </div>\r\n//         <div className=\"bg-yellow-50 p-4 rounded-xl border border-yellow-100\">\r\n//           <h3 className=\"text-sm font-medium text-yellow-700\">Pending</h3>\r\n//           <p className=\"text-2xl font-bold text-yellow-600\">\r\n//             {schedule.length - Object.values(completedMatches).filter(Boolean).length}\r\n//           </p>\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* Matches Table */}\r\n//       <div className=\"bg-white shadow-xl rounded-xl overflow-hidden mb-8\">\r\n//         <div className=\"overflow-x-auto\">\r\n//           <table className=\"min-w-full divide-y divide-gray-200\">\r\n//             <thead className=\"bg-indigo-600\">\r\n//               <tr>\r\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider\">Match</th>\r\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider\">Team 1</th>\r\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider\">Team 2</th>\r\n//                 <th className=\"px-6 py-3 text-center text-xs font-medium text-white uppercase tracking-wider\">Score</th>\r\n//                 <th className=\"px-6 py-3 text-center text-xs font-medium text-white uppercase tracking-wider\">Time</th>\r\n//                 <th className=\"px-6 py-3 text-center text-xs font-medium text-white uppercase tracking-wider\">Status</th>\r\n//                 <th className=\"px-6 py-3 text-center text-xs font-medium text-white uppercase tracking-wider\">Actions</th>\r\n//               </tr>\r\n//             </thead>\r\n//             <tbody className=\"bg-white divide-y divide-gray-200\">\r\n//               {schedule.map((match) => (\r\n//                 <tr key={match.id} className={completedMatches[match.id] ? \"bg-green-50\" : \"hover:bg-gray-50\"}>\r\n//                   <td className=\"px-6 py-4 whitespace-nowrap font-medium text-gray-900\">#{match.id}</td>\r\n//                   <td className=\"px-6 py-4 whitespace-nowrap\">{match.team1}</td>\r\n//                   <td className=\"px-6 py-4 whitespace-nowrap\">{match.team2}</td>\r\n//                  <td className=\"px-6 py-4 text-center\">\r\n//           {matches[match.id]?.score || 0}\r\n//         </td>\r\n//         <td className=\"px-6 py-4 text-center\">\r\n//           {matches[match.id]?.totalTime ? formatTime(matches[match.id].totalTime) : '-'}\r\n//         </td>\r\n//                   <td className=\"px-6 py-4 whitespace-nowrap text-center\">\r\n//                     <span className={`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${\r\n//                       completedMatches[match.id] \r\n//                         ? \"bg-green-100 text-green-800\" \r\n//                         : \"bg-yellow-100 text-yellow-800\"\r\n//                     }`}>\r\n//                       {completedMatches[match.id] ? \"Completed\" : \"Pending\"}\r\n//                     </span>\r\n//                   </td>\r\n//                   <td className=\"px-6 py-4 whitespace-nowrap text-center space-x-2\">\r\n//                     <button\r\n//                       onClick={() => handleStartMatch(match)}\r\n//                       disabled={completedMatches[match.id]}\r\n//                       className={`px-3 py-1 ${\r\n//                         completedMatches[match.id] \r\n//                           ? \"bg-gray-300 text-gray-600 cursor-not-allowed\" \r\n//                           : \"bg-blue-600 hover:bg-blue-700 text-white\"\r\n//                       } rounded-md text-sm`}\r\n//                     >\r\n//                       <FaPlay className=\"inline mr-1\" /> Start\r\n//                     </button>\r\n//                     <button\r\n//                       onClick={() => handleMarkAsDone(match.id)}\r\n//                       disabled={completedMatches[match.id]}\r\n//                       className={`inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md ${\r\n//                         completedMatches[match.id]\r\n//                           ? \"bg-gray-300 text-gray-600 cursor-not-allowed\"\r\n//                           : \"text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\r\n//                       }`}\r\n//                     >\r\n//                       <FaCheck className=\"mr-1\" /> Complete\r\n//                     </button>\r\n//                   </td>\r\n//                 </tr>\r\n//               ))}\r\n//             </tbody>\r\n//           </table>\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* View Ranking Button */}\r\n//       <div className=\"flex justify-center mb-6\">\r\n//         <button\r\n//           onClick={() => setShowRanking(!showRanking)}\r\n//           className=\"inline-flex items-center px-4 py-3 border border-transparent text-lg font-medium rounded-md shadow-sm text-white bg-yellow-500 hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500\"\r\n//         >\r\n//           <FaTrophy className=\"mr-2\" />\r\n//           {showRanking ? \"Hide Rankings\" : \"View Team Rankings\"}\r\n//         </button>\r\n//       </div>\r\n\r\n//       {/* Rankings Table */}\r\n//       {showRanking && (\r\n//         <div className=\"bg-white shadow-xl rounded-xl overflow-hidden mb-8\">\r\n//           <div className=\"px-6 py-4 bg-indigo-600 flex items-center\">\r\n//             <FaChartBar className=\"text-white mr-2 text-xl\" />\r\n//             <h2 className=\"text-xl font-bold text-white\">Team Rankings</h2>\r\n//           </div>\r\n//           <div className=\"overflow-x-auto\">\r\n//             <table className=\"min-w-full divide-y divide-gray-200\">\r\n//               <thead className=\"bg-indigo-50\">\r\n//                 <tr>\r\n//                   <th className=\"px-6 py-3 text-left text-xs font-medium text-indigo-700 uppercase tracking-wider\">Rank</th>\r\n//                   <th className=\"px-6 py-3 text-left text-xs font-medium text-indigo-700 uppercase tracking-wider\">Team</th>\r\n//                   <th className=\"px-6 py-3 text-left text-xs font-medium text-indigo-700 uppercase tracking-wider\">Score</th>\r\n//                   <th className=\"px-6 py-3 text-left text-xs font-medium text-indigo-700 uppercase tracking-wider\">Medal</th>\r\n//                 </tr>\r\n//               </thead>\r\n//               <tbody className=\"bg-white divide-y divide-gray-200\">\r\n//                 {calculateRankings().map((team, index) => (\r\n//                   <tr key={team.team} className=\"hover:bg-gray-50\">\r\n//                     <td className=\"px-6 py-4 whitespace-nowrap font-medium text-gray-900\">{index + 1}</td>\r\n//                     <td className=\"px-6 py-4 whitespace-nowrap\">{team.team}</td>\r\n//                     <td className=\"px-6 py-4 whitespace-nowrap font-bold\">{team.score || 0}</td>\r\n//                     <td className=\"px-6 py-4 whitespace-nowrap\">\r\n//                       {index === 0 && <span className=\"text-yellow-500 text-xl\">🥇</span>}\r\n//                       {index === 1 && <span className=\"text-gray-400 text-xl\">🥈</span>}\r\n//                       {index === 2 && <span className=\"text-amber-600 text-xl\">🥉</span>}\r\n//                     </td>\r\n//                   </tr>\r\n//                 ))}\r\n//               </tbody>\r\n//             </table>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default COOPMatch;\r\n\r\n\r\nimport { useState } from \"react\";\r\nimport { FaTrophy, FaCheck, FaPlay, FaChartBar, FaUsers } from \"react-icons/fa\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useMatchContext } from \"./MatchContext\";\r\nimport Alert from \"../../../../../../../components/Alert/Alert\";\r\n\r\nconst COOPMatch = () => {\r\n  const { matches, setCurrentMatch } = useMatchContext();\r\n  const [showRanking, setShowRanking] = useState(false);\r\n  const [scores, setScores] = useState({});\r\n  const [completedMatches, setCompletedMatches] = useState({});\r\n  const navigate = useNavigate();\r\n\r\n  // Match data\r\n  const schedule = [\r\n    { id: 1, team1: \"Team A\", team2: \"Team B\" },\r\n    { id: 2, team1: \"Team C\", team2: \"Team D\" },\r\n    { id: 3, team1: \"Team E\", team2: \"Team A\" },\r\n    { id: 4, team1: \"Team B\", team2: \"Team C\" },\r\n    { id: 5, team1: \"Team D\", team2: \"Team E\" },\r\n  ];\r\n\r\n  // Update match score\r\n  const handleSaveScore = (matchId, score) => {\r\n    setScores((prevScores) => ({\r\n      ...prevScores,\r\n      [matchId]: score,\r\n    }));\r\n  };\r\n\r\n  // Navigate to SheetGO\r\n  const handleStartMatch = (match) => {\r\n    setCurrentMatch({\r\n      ...match,\r\n      type: 'coop',\r\n      mode: 'coop'\r\n    });\r\n    navigate(\"/SheetCoop\");\r\n  };\r\n\r\n  // Mark match as completed\r\n  const handleMarkAsDone = (matchId) => {\r\n  Alert.confirm({\r\n    title: 'Submit Final Score?',\r\n    html: `<p>You're about to submit your final score of <strong>${scores[matchId] || 0}</strong> points.</p>`,\r\n    confirmText: 'Confirm Submission',\r\n    cancelText: 'Cancel',\r\n    onConfirm: () => {\r\n      // نقل عملية التحديث هنا لتتم فقط عند التأكيد\r\n      setCompletedMatches((prev) => ({\r\n        ...prev,\r\n        [matchId]: true,\r\n      }));\r\n      Alert.success({\r\n        title: 'Score Submitted!',\r\n        text: 'Your results have been successfully recorded'\r\n      });\r\n    },\r\n    });\r\n  };\r\n\r\n  // Calculate rankings\r\n  const calculateRankings = () => {\r\n    const teamScores = {};\r\n    \r\n    schedule.forEach(match => {\r\n      const score = parseInt(scores[match.id]) || 0;\r\n      const teamScore = score / 2;\r\n      \r\n      teamScores[match.team1] = (teamScores[match.team1] || 0) + teamScore;\r\n      teamScores[match.team2] = (teamScores[match.team2] || 0) + teamScore;\r\n    });\r\n    \r\n    return Object.entries(teamScores)\r\n      .map(([team, score]) => ({ team, score }))\r\n      .sort((a, b) => b.score - a.score);\r\n  };\r\n\r\n  const formatTime = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs < 10 ? '0' : ''}${secs}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-6\">\r\n      \r\n      {/* Header */}\r\n      <div className=\"text-center mb-6 sm:mb-8\">\r\n        <h1 className=\"text-2xl sm:text-3xl font-bold text-indigo-700 mb-1 sm:mb-2 flex items-center justify-center gap-2\">\r\n          <FaUsers className=\"text-3xl sm:text-4xl\" /> COOP Matches\r\n        </h1>\r\n        <p className=\"text-base sm:text-lg text-gray-600\">Track and manage cooperative matches</p>\r\n      </div>\r\n\r\n      {/* Stats Summary */}\r\n      <div className=\"grid grid-cols-3 gap-2 sm:gap-4 mb-6 sm:mb-8\">\r\n        <div className=\"bg-indigo-50 p-2 sm:p-4 rounded-lg sm:rounded-xl border border-indigo-100\">\r\n          <h3 className=\"text-xs sm:text-sm font-medium text-indigo-700\">Total</h3>\r\n          <p className=\"text-xl sm:text-2xl font-bold text-indigo-600\">{schedule.length}</p>\r\n        </div>\r\n        <div className=\"bg-green-50 p-2 sm:p-4 rounded-lg sm:rounded-xl border border-green-100\">\r\n          <h3 className=\"text-xs sm:text-sm font-medium text-green-700\">Done</h3>\r\n          <p className=\"text-xl sm:text-2xl font-bold text-green-600\">\r\n            {Object.values(completedMatches).filter(Boolean).length}\r\n          </p>\r\n        </div>\r\n        <div className=\"bg-yellow-50 p-2 sm:p-4 rounded-lg sm:rounded-xl border border-yellow-100\">\r\n          <h3 className=\"text-xs sm:text-sm font-medium text-yellow-700\">Pending</h3>\r\n          <p className=\"text-xl sm:text-2xl font-bold text-yellow-600\">\r\n            {schedule.length - Object.values(completedMatches).filter(Boolean).length}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Matches Table */}\r\n      <div className=\"bg-white shadow-md sm:shadow-xl rounded-lg sm:rounded-xl overflow-hidden mb-6 sm:mb-8\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full divide-y divide-gray-200\">\r\n            <thead className=\"bg-indigo-600\">\r\n              <tr>\r\n                <th className=\"px-2 sm:px-4 py-2 text-left text-xs font-medium text-white uppercase\">Match</th>\r\n                <th className=\"px-2 sm:px-4 py-2 text-left text-xs font-medium text-white uppercase\">Teams</th>\r\n                <th className=\"px-2 sm:px-4 py-2 text-center text-xs font-medium text-white uppercase\">Score</th>\r\n                <th className=\"px-2 sm:px-4 py-2 text-center text-xs font-medium text-white uppercase hidden sm:table-cell\">Time</th>\r\n                <th className=\"px-2 sm:px-4 py-2 text-center text-xs font-medium text-white uppercase\">Status</th>\r\n                <th className=\"px-2 sm:px-4 py-2 text-center text-xs font-medium text-white uppercase\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {schedule.map((match) => (\r\n                <tr key={match.id} className={completedMatches[match.id] ? \"bg-green-50\" : \"hover:bg-gray-50\"}>\r\n                  <td className=\"px-2 sm:px-4 py-2 whitespace-nowrap font-medium text-gray-900 text-sm\">#{match.id}</td>\r\n                  <td className=\"px-2 sm:px-4 py-2 whitespace-nowrap text-sm\">\r\n                    <div className=\"flex flex-col\">\r\n                      <span>{match.team1}</span>\r\n                      <span className=\"text-xs text-gray-500\">and</span>\r\n                      <span>{match.team2}</span>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-2 sm:px-4 py-2 text-center text-sm\">\r\n                    {matches[match.id]?.score || 0}\r\n                  </td>\r\n                  <td className=\"px-2 sm:px-4 py-2 text-center text-sm hidden sm:table-cell\">\r\n                    {matches[match.id]?.totalTime ? formatTime(matches[match.id].totalTime) : '-'}\r\n                  </td>\r\n                  <td className=\"px-2 sm:px-4 py-2 whitespace-nowrap text-center\">\r\n                    <span className={`px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full ${\r\n                      completedMatches[match.id] \r\n                        ? \"bg-green-100 text-green-800\" \r\n                        : \"bg-yellow-100 text-yellow-800\"\r\n                    }`}>\r\n                      {completedMatches[match.id] ? \"Done\" : \"Pending\"}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-2 sm:px-4 py-2 whitespace-nowrap text-center space-x-1 sm:space-x-2\">\r\n                    <button\r\n                      onClick={() => handleStartMatch(match)}\r\n                      disabled={completedMatches[match.id]}\r\n                      className={`px-2 py-1 text-xs sm:text-sm rounded ${\r\n                        completedMatches[match.id] \r\n                          ? \"bg-gray-300 text-gray-600 cursor-not-allowed\" \r\n                          : \"bg-blue-600 hover:bg-blue-700 text-white\"\r\n                      }`}\r\n                      title=\"Start Match\"\r\n                    >\r\n                      <FaPlay className=\"inline sm:mr-1\" />\r\n                      <span className=\"hidden sm:inline\">Start</span>\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleMarkAsDone(match.id)}\r\n                      disabled={completedMatches[match.id]}\r\n                      className={`inline-flex items-center px-2 py-1 text-xs sm:text-sm rounded ${\r\n                        completedMatches[match.id]\r\n                          ? \"bg-gray-300 text-gray-600 cursor-not-allowed\"\r\n                          : \"text-white bg-green-600 hover:bg-green-700\"\r\n                      }`}\r\n                      title=\"Mark Complete\"\r\n                    >\r\n                      <FaCheck className=\"sm:mr-1\" />\r\n                      <span className=\"hidden sm:inline\">Complete</span>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* View Ranking Button */}\r\n      <div className=\"flex justify-center mb-4 sm:mb-6\">\r\n        <button\r\n          onClick={() => setShowRanking(!showRanking)}\r\n          className=\"inline-flex items-center px-3 sm:px-4 py-2 sm:py-3 border border-transparent text-sm sm:text-lg font-medium rounded-md shadow-sm text-white bg-yellow-500 hover:bg-yellow-600\"\r\n        >\r\n          <FaTrophy className=\"mr-1 sm:mr-2\" />\r\n          {showRanking ? \"Hide Rankings\" : \"View Rankings\"}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Rankings Table */}\r\n      {showRanking && (\r\n        <div className=\"bg-white shadow-md sm:shadow-xl rounded-lg sm:rounded-xl overflow-hidden mb-6 sm:mb-8\">\r\n          <div className=\"px-4 sm:px-6 py-3 sm:py-4 bg-indigo-600 flex items-center\">\r\n            <FaChartBar className=\"text-white mr-2 text-lg sm:text-xl\" />\r\n            <h2 className=\"text-lg sm:text-xl font-bold text-white\">Team Rankings</h2>\r\n          </div>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-indigo-50\">\r\n                <tr>\r\n                  <th className=\"px-2 sm:px-4 py-2 text-left text-xs font-medium text-indigo-700 uppercase\">Rank</th>\r\n                  <th className=\"px-2 sm:px-4 py-2 text-left text-xs font-medium text-indigo-700 uppercase\">Team</th>\r\n                  <th className=\"px-2 sm:px-4 py-2 text-left text-xs font-medium text-indigo-700 uppercase\">Score</th>\r\n                  <th className=\"px-2 sm:px-4 py-2 text-left text-xs font-medium text-indigo-700 uppercase\">Medal</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {calculateRankings().map((team, index) => (\r\n                  <tr key={team.team} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-2 sm:px-4 py-2 whitespace-nowrap font-medium text-gray-900 text-sm\">{index + 1}</td>\r\n                    <td className=\"px-2 sm:px-4 py-2 whitespace-nowrap text-sm\">{team.team}</td>\r\n                    <td className=\"px-2 sm:px-4 py-2 whitespace-nowrap font-bold text-sm\">{team.score || 0}</td>\r\n                    <td className=\"px-2 sm:px-4 py-2 whitespace-nowrap\">\r\n                      {index === 0 && <span className=\"text-yellow-500 text-lg sm:text-xl\">🥇</span>}\r\n                      {index === 1 && <span className=\"text-gray-400 text-lg sm:text-xl\">🥈</span>}\r\n                      {index === 2 && <span className=\"text-amber-600 text-lg sm:text-xl\">🥉</span>}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default COOPMatch;"],"names":["COOPMatch","matches","setCurrentMatch","useMatchContext","showRanking","setShowRanking","useState","scores","setScores","completedMatches","setCompletedMatches","navigate","useNavigate","schedule","id","team1","team2","formatTime","seconds","secs","Math","floor","_jsxs","className","children","_jsx","FaUsers","length","Object","values","filter","Boolean","map","match","_matches$match$id","_matches$match$id2","score","totalTime","onClick","type","mode","handleStartMatch","disabled","title","FaPlay","handleMarkAsDone","matchId","Alert","confirm","html","confirmText","cancelText","onConfirm","prev","success","text","FaCheck","FaTrophy","FaChartBar","calculateRankings","teamScores","forEach","teamScore","parseInt","entries","_ref","team","sort","a","b","index"],"sourceRoot":""}