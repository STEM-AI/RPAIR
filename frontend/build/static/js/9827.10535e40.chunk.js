"use strict";(self.webpackChunkforntend=self.webpackChunkforntend||[]).push([[9827],{9827:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});var n=t(2791),s=t(2903),r=t(8402),o=t(3553),l=t(7457),c=t(184);const i=()=>{const[e,a]=(0,n.useState)({name:"",address:"",email:"",type:"",contacts:[{phone_number:""},{phone_number:""}]}),[t,i]=(0,n.useState)(!1),[d,u]=(0,n.useState)(null),[m,p]=(0,n.useState)(""),h=localStorage.getItem("access_token");if(!h)return(0,c.jsx)("div",{className:"text-red-600 text-center mt-8",children:"You are not authorized. Please log in."});const g=t=>{const{name:n,value:s}=t.target,r=parseInt(n.split("_")[1],10),o=[...e.contacts];o[r]={phone_number:s},a((e=>({...e,contacts:o})))};return(0,c.jsxs)("div",{className:"container  px-4",children:[(0,c.jsx)("h2",{className:"mb-4 tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-cyan-950 to-cyan-500 text-5xl font-black",children:"Create Organization"}),d&&(0,c.jsx)(l.Z,{sx:{width:"100%"},spacing:2,children:(0,c.jsxs)(r.Z,{severity:m,children:[(0,c.jsx)(o.Z,{children:"success"===m?"Success":"Error"}),d]})}),(0,c.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(!0),u(null);try{await s.Z.post("http://147.93.56.71:8000/api/organization/create-organization/",e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`}});p("success"),u("Organization created successfully!"),a({name:"",address:"",email:"",type:"",contacts:[{phone_number:""},{phone_number:""}]})}catch(o){var n,r;console.error("Error Response:",o.response),p("error"),u((null===(n=o.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"Failed to create the organization. Please try again.")}finally{i(!1)}},className:"grid grid-cols-1 gap-6",children:[(0,c.jsxs)("div",{className:"p-2",children:[(0,c.jsx)("label",{htmlFor:"name",className:"block text-gray-700 font-bold",children:"Organization Name:"}),(0,c.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"Enter organization name",value:e.name,onChange:t=>a({...e,name:t.target.value}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2"})]}),(0,c.jsxs)("div",{className:"p-2",children:[(0,c.jsx)("label",{htmlFor:"address",className:"block text-gray-700 font-bold",children:"Address:"}),(0,c.jsx)("input",{type:"text",id:"address",name:"address",placeholder:"Enter address",value:e.address,onChange:t=>a({...e,address:t.target.value}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2"})]}),(0,c.jsxs)("div",{className:"p-2",children:[(0,c.jsx)("label",{htmlFor:"email",className:"block text-gray-700 font-bold",children:"Email:"}),(0,c.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Enter email",value:e.email,onChange:t=>a({...e,email:t.target.value}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2"})]}),(0,c.jsxs)("div",{className:"p-2",children:[(0,c.jsx)("label",{htmlFor:"type",className:"block text-gray-700 font-bold",children:"Type:"}),(0,c.jsx)("input",{type:"text",id:"type",name:"type",placeholder:"Enter organization type",value:e.type,onChange:t=>a({...e,type:t.target.value}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2"})]}),e.contacts.map(((e,a)=>(0,c.jsxs)("div",{className:"p-2",children:[(0,c.jsxs)("label",{htmlFor:`contacts_${a}`,className:"block text-gray-700 font-bold",children:["Phone Number ",a+1,":"]}),(0,c.jsx)("input",{type:"text",id:`contacts_${a}`,name:`contacts_${a}`,placeholder:`Enter phone number ${a+1}`,value:e.phone_number,onChange:g,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2"})]},a))),(0,c.jsx)("div",{className:"col-span-full mt-6 p-2",children:(0,c.jsx)("button",{type:"submit",disabled:t,className:"block w-full bg-cyan-500 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-full transition-all duration-200",children:t?"Submitting...":"Create Organization"})})]})]})}}}]);
//# sourceMappingURL=9827.10535e40.chunk.js.map