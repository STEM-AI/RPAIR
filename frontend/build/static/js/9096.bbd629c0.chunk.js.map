{"version":3,"file":"static/js/9096.bbd629c0.chunk.js","mappings":"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","sources":["pages/Dashboards/AdminDashboard/Management/CreateStaff.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport Alert from \"@mui/material/Alert\";\r\nimport AlertTitle from \"@mui/material/AlertTitle\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport { MdEventNote } from \"react-icons/md\"; \r\n\r\nconst CreateStaff = () => {\r\n  const [formData, setFormData] = useState({\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    country: \"\",\r\n    address: \"\",\r\n    date_of_birth: \"\",\r\n    phone_number: \"\",\r\n  });\r\n\r\n \r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [responseMessage, setResponseMessage] = useState(null);\r\n  const [alertType, setAlertType] = useState(\"\");\r\n\r\n  const token = localStorage.getItem(\"access_token\");\r\n  \r\n  if (!token) {\r\n    return (\r\n      <div className=\"text-red-600 text-center mt-8\">\r\n        You are not authorized. Please log in.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setFormData((prevState) => ({\r\n      ...prevState,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  \r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n     // استبدال الدومين فقط إذا كان @gmail.com\r\n  const updatedEmail = formData.email.replace(\"@gmail.com\", \"@rpair.judge.com\");\r\n  const updatedFormData = { ...formData, email: updatedEmail };\r\n  \r\n    setIsSubmitting(true);\r\n    setResponseMessage(null);\r\n    setAlertType(\"\");\r\n\r\n    try {\r\n      // First, register the judge\r\n      const judgeResponse = await axios.post(\r\n        `${process.env.REACT_APP_API_URL_AUTH}/judge-register/`,\r\n        updatedFormData,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      \r\n      setAlertType(\"success\");\r\n      setResponseMessage(\"Judge and event created successfully!\");\r\n      Swal.fire({\r\n                      icon: \"success\",\r\n                      title: \"Success\",\r\n                      text: \"Registration successful!\",\r\n                      showConfirmButton: false,\r\n                        });\r\n      \r\n      // Reset both forms after successful submission\r\n      setFormData({\r\n        first_name: \"\",\r\n        last_name: \"\",\r\n        username: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        country: \"\",\r\n        address: \"\",\r\n        date_of_birth: \"\",\r\n        phone_number: \"\",\r\n      });\r\n      \r\n      \r\n    } catch (err) {\r\n      console.error(\"Error Response:\", err.response);\r\n      setAlertType(\"error\");\r\n      setResponseMessage(\r\n        err.response?.data?.detail || \"Failed to create the judge. Please try again.\"\r\n      );\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4\">\r\n   \r\n        <h2 className=\"mb-4 tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-cyan-950 to-cyan-500 text-5xl py-2 font-black\">\r\n          Create Judge\r\n        </h2>\r\n      {responseMessage && (\r\n        <Stack sx={{ width: \"100%\" }} spacing={2}>\r\n          <Alert severity={alertType}>\r\n            <AlertTitle>{alertType === \"success\" ? \"Success\" : \"Error\"}</AlertTitle>\r\n            {responseMessage}\r\n          </Alert>\r\n        </Stack>\r\n      )}\r\n\r\n      <form onSubmit={handleSubmit} className=\"grid grid-cols-1 gap-6\">\r\n        \r\n\r\n        <div className=\"p-2\">\r\n          <label htmlFor=\"first_name\" className=\"block text-gray-700 font-bold\">\r\n            First Name:\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"first_name\"\r\n            name=\"first_name\"\r\n            placeholder=\"Enter first name\"\r\n            value={formData.first_name}\r\n            onChange={handleChange}\r\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"p-2\">\r\n          <label htmlFor=\"last_name\" className=\"block text-gray-700 font-bold\">\r\n            Last Name:\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"last_name\"\r\n            name=\"last_name\"\r\n            placeholder=\"Enter last name\"\r\n            value={formData.last_name}\r\n            onChange={handleChange}\r\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"p-2\">\r\n          <label htmlFor=\"username\" className=\"block text-gray-700 font-bold\">\r\n            Username:\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            placeholder=\"Enter username\"\r\n            pattern=\"^[a-zA-Z0-9@.+\\-_]+$\"\r\n            title=\" This value may contain only letters, numbers, and @/./+/-/_ characters\"\r\n            value={formData.username}\r\n            onChange={handleChange}\r\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"p-2\">\r\n          <label htmlFor=\"email\" className=\"block text-gray-700 font-bold\">\r\n            Email:\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Enter email\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"p-2\">\r\n          <label htmlFor=\"password\" className=\"block text-gray-700 font-bold\">\r\n            Password:\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Enter password\"\r\n            value={formData.password}\r\n            onChange={handleChange}\r\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"p-2\">\r\n          <label htmlFor=\"country\" className=\"block text-gray-700 font-bold\">\r\n            Country:\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"country\"\r\n            name=\"country\"\r\n            placeholder=\"Enter country\"\r\n            value={formData.country}\r\n            onChange={handleChange}\r\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"p-2\">\r\n          <label htmlFor=\"address\" className=\"block text-gray-700 font-bold\">\r\n            Address:\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"address\"\r\n            name=\"address\"\r\n            placeholder=\"Enter address\"\r\n            value={formData.address}\r\n            onChange={handleChange}\r\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"p-2\">\r\n          <label htmlFor=\"date_of_birth\" className=\"block text-gray-700 font-bold\">\r\n            Date of Birth:\r\n          </label>\r\n          <input\r\n            type=\"date\"\r\n            id=\"date_of_birth\"\r\n            name=\"date_of_birth\"\r\n            value={formData.date_of_birth}\r\n            onChange={handleChange}\r\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"p-2\">\r\n          <label htmlFor=\"phone_number\" className=\"block text-gray-700 font-bold\">\r\n            Phone Number:\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"phone_number\"\r\n            name=\"phone_number\"\r\n            placeholder=\"enter your phone\"\r\n            pattern=\"^\\+20\\d{10}$\"\r\n            title=\"Phone number must start with +2 and contain 11 digits.\"\r\n            value={formData.phone_number}\r\n            onChange={handleChange}\r\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-span-full mt-6 p-2\">\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isSubmitting}\r\n            className=\"block w-full bg-cyan-500 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-full transition-all duration-200\"\r\n          >\r\n            {isSubmitting ? \"Submitting...\" : \"Create Judge and Event\"}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateStaff;"],"names":["CreateStaff","formData","setFormData","useState","first_name","last_name","username","email","password","country","address","date_of_birth","phone_number","isSubmitting","setIsSubmitting","responseMessage","setResponseMessage","alertType","setAlertType","token","localStorage","getItem","_jsx","className","children","handleChange","event","name","value","target","prevState","_jsxs","Stack","sx","width","spacing","Alert","severity","AlertTitle","onSubmit","async","preventDefault","updatedEmail","replace","updatedFormData","axios","post","process","REACT_APP_API_URL_AUTH","headers","Authorization","Swal","icon","title","text","showConfirmButton","err","_err$response","_err$response$data","console","error","response","data","detail","htmlFor","type","id","placeholder","onChange","required","pattern","disabled"],"sourceRoot":""}