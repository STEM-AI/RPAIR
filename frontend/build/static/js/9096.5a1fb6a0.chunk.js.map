{"version":3,"file":"static/js/9096.5a1fb6a0.chunk.js","mappings":"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","sources":["pages/Dashboards/AdminDashboard/Management/CreateStaff.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport Alert from \"@mui/material/Alert\";\nimport AlertTitle from \"@mui/material/AlertTitle\";\nimport Stack from \"@mui/material/Stack\";\nimport { MdEventNote } from \"react-icons/md\"; \n\nconst CreateStaff = () => {\n  const [formData, setFormData] = useState({\n    first_name: \"\",\n    last_name: \"\",\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    country: \"\",\n    address: \"\",\n    date_of_birth: \"\",\n    phone_number: \"\",\n  });\n\n \n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [responseMessage, setResponseMessage] = useState(null);\n  const [alertType, setAlertType] = useState(\"\");\n\n  const token = localStorage.getItem(\"access_token\");\n  \n  if (!token) {\n    return (\n      <div className=\"text-red-600 text-center mt-8\">\n        You are not authorized. Please log in.\n      </div>\n    );\n  }\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormData((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  \n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n  const updatedEmail = formData.email.replace(\"@gmail.com\", \"@rpair.judge.com\");\n  const updatedFormData = { ...formData, email: updatedEmail };\n  \n    setIsSubmitting(true);\n    setResponseMessage(null);\n    setAlertType(\"\");\n\n    try {\n      // First, register the judge\n      const judgeResponse = await axios.post(\n        `${process.env.REACT_APP_API_URL_AUTH}/judge-register/`,\n        updatedFormData,\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      \n      setAlertType(\"success\");\n      setResponseMessage(\"Judge and event created successfully!\");\n      Swal.fire({\n                      icon: \"success\",\n                      title: \"Success\",\n                      text: \"Registration successful!\",\n                      showConfirmButton: false,\n                        });\n      \n      // Reset both forms after successful submission\n      setFormData({\n        first_name: \"\",\n        last_name: \"\",\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        country: \"\",\n        address: \"\",\n        date_of_birth: \"\",\n        phone_number: \"\",\n      });\n      \n      \n    } catch (err) {\n      console.error(\"Error Response:\", err.response);\n      \n      let errorMessage = \"Failed to create the judge. Please try again.\";\n      \n      if (err.response?.data) {\n        // Handle field-specific errors\n        const errors = err.response.data;\n        \n        if (errors.detail) {\n          // Handle non-field errors\n          errorMessage = errors.detail;\n        } else {\n          // Collect all validation errors\n          const messages = [];\n          for (const key in errors) {\n            if (Array.isArray(errors[key])) {\n              messages.push(...errors[key]);\n            } else {\n              messages.push(errors[key]);\n            }\n          }\n          errorMessage = messages.join(' ');\n        }\n      }\n\n      setAlertType(\"error\");\n      setResponseMessage(errorMessage);\n      \n      // Show error alert\n      Swal.fire({\n        icon: \"error\",\n        title: \"Registration Failed\",\n        text: errorMessage,\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto px-4\">\n   \n        <h2 className=\"mb-4 tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-cyan-950 to-cyan-500 text-5xl py-2 font-black\">\n          Create Judge\n        </h2>\n      {responseMessage && (\n        <Stack sx={{ width: \"100%\" }} spacing={2}>\n          <Alert severity={alertType}>\n            <AlertTitle>{alertType === \"success\" ? \"Success\" : \"Error\"}</AlertTitle>\n            {responseMessage}\n          </Alert>\n        </Stack>\n      )}\n\n      <form onSubmit={handleSubmit} className=\"grid grid-cols-1 gap-6\">\n        \n\n        <div className=\"p-2\">\n          <label htmlFor=\"first_name\" className=\"block text-gray-700 font-bold\">\n            First Name:\n          </label>\n          <input\n            type=\"text\"\n            id=\"first_name\"\n            name=\"first_name\"\n            placeholder=\"Enter first name\"\n            value={formData.first_name}\n            onChange={handleChange}\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\n            required\n          />\n        </div>\n\n        <div className=\"p-2\">\n          <label htmlFor=\"last_name\" className=\"block text-gray-700 font-bold\">\n            Last Name:\n          </label>\n          <input\n            type=\"text\"\n            id=\"last_name\"\n            name=\"last_name\"\n            placeholder=\"Enter last name\"\n            value={formData.last_name}\n            onChange={handleChange}\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\n            required\n          />\n        </div>\n\n        <div className=\"p-2\">\n          <label htmlFor=\"username\" className=\"block text-gray-700 font-bold\">\n            Username:\n          </label>\n          <input\n            type=\"text\"\n            id=\"username\"\n            name=\"username\"\n            placeholder=\"Enter username\"\n            pattern=\"^[a-zA-Z0-9@.+\\-_]+$\"\n            title=\" This value may contain only letters, numbers, and @/./+/-/_ characters\"\n            value={formData.username}\n            onChange={handleChange}\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\n            required\n          />\n        </div>\n\n        <div className=\"p-2\">\n          <label htmlFor=\"email\" className=\"block text-gray-700 font-bold\">\n            Email:\n          </label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n            placeholder=\"Enter email\"\n            value={formData.email}\n            onChange={handleChange}\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\n            required\n          />\n        </div>\n\n        <div className=\"p-2\">\n          <label htmlFor=\"password\" className=\"block text-gray-700 font-bold\">\n            Password:\n          </label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            placeholder=\"Enter password\"\n            value={formData.password}\n            onChange={handleChange}\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\n            required\n          />\n        </div>\n\n        <div className=\"p-2\">\n          <label htmlFor=\"country\" className=\"block text-gray-700 font-bold\">\n            Country:\n          </label>\n          <input\n            type=\"text\"\n            id=\"country\"\n            name=\"country\"\n            placeholder=\"Enter country\"\n            value={formData.country}\n            onChange={handleChange}\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\n            required\n          />\n        </div>\n\n        <div className=\"p-2\">\n          <label htmlFor=\"address\" className=\"block text-gray-700 font-bold\">\n            Address:\n          </label>\n          <input\n            type=\"text\"\n            id=\"address\"\n            name=\"address\"\n            placeholder=\"Enter address\"\n            value={formData.address}\n            onChange={handleChange}\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\n            required\n          />\n        </div>\n\n        <div className=\"p-2\">\n          <label htmlFor=\"date_of_birth\" className=\"block text-gray-700 font-bold\">\n            Date of Birth:\n          </label>\n          <input\n            type=\"date\"\n            id=\"date_of_birth\"\n            name=\"date_of_birth\"\n            value={formData.date_of_birth}\n            onChange={handleChange}\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\n            required\n          />\n        </div>\n\n        <div className=\"p-2\">\n          <label htmlFor=\"phone_number\" className=\"block text-gray-700 font-bold\">\n            Phone Number:\n          </label>\n          <input\n            type=\"text\"\n            id=\"phone_number\"\n            name=\"phone_number\"\n            placeholder=\"enter your phone\"\n            pattern=\"^\\+20\\d{10}$\"\n            title=\"Phone number must start with +2 and contain 11 digits.\"\n            value={formData.phone_number}\n            onChange={handleChange}\n            className=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 focus:ring-opacity-50 p-2\"\n            required\n          />\n        </div>\n\n        <div className=\"col-span-full mt-6 p-2\">\n          <button\n            type=\"submit\"\n            disabled={isSubmitting}\n            className=\"block w-full bg-cyan-500 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-full transition-all duration-200\"\n          >\n            {isSubmitting ? \"Submitting...\" : \"Create Judge and Event\"}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default CreateStaff;"],"names":["CreateStaff","formData","setFormData","useState","first_name","last_name","username","email","password","country","address","date_of_birth","phone_number","isSubmitting","setIsSubmitting","responseMessage","setResponseMessage","alertType","setAlertType","token","localStorage","getItem","_jsx","className","children","handleChange","event","name","value","target","prevState","_jsxs","Stack","sx","width","spacing","Alert","severity","AlertTitle","onSubmit","async","preventDefault","updatedEmail","replace","updatedFormData","axios","post","headers","Authorization","Swal","icon","title","text","showConfirmButton","err","_err$response","console","error","response","errorMessage","data","errors","detail","messages","key","Array","isArray","push","join","htmlFor","type","id","placeholder","onChange","required","pattern","disabled"],"sourceRoot":""}