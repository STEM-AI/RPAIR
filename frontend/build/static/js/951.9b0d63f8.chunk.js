"use strict";(self.webpackChunkforntend=self.webpackChunkforntend||[]).push([[951],{951:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var l=s(2791),m=s(2202),n=s(2602),i=s(5125),a=(s(1052),s(763)),x=s(3859),o=s(6083),d=s(184);const r=[{title:"Move purple sensor to the fish habitat",points:1},{title:"Move blue sensor to the pipeline",points:1},{title:"Move the orange sensor to the volcano tile",points:1},{title:"Orange sensor placed on top of the volcano",points:2},{title:"Align the turbines",points:"1 per turbine",isDynamic:!0},{title:"Open the clam",points:1},{title:"Remove the pearl from the clam",points:1},{title:"Deliver the pearl to the green starting tile",points:1},{title:"End with the robot on the green tile",points:1}];function c(){const{currentMatch:e,updateMatch:t}=(0,x.a)(),[s,c]=(0,l.useState)({}),[h,p]=(0,l.useState)({}),[u,b]=(0,l.useState)(0),[g,f]=(0,l.useState)(0),[j,v]=(0,l.useState)(!1),[N,y]=(0,l.useState)({matchId:"",team1:"",team2:""}),w=(0,n.s0)(),[S,T]=(0,l.useState)([]);(0,l.useEffect)((()=>{"coop"===(null===e||void 0===e?void 0:e.type)&&y({matchId:e.id,team1:e.team1,team2:e.team2})}),[e]),(0,l.useEffect)((()=>{let e;return j&&g<60?e=setInterval((()=>{f((e=>e+1))}),1e3):g>=60&&v(!1),()=>clearInterval(e)}),[j,g]);const C=e=>{let t=parseInt(e.target.value,10)||0;t>5&&(t=5),t<0&&(t=0),b(t),c((e=>({...e,4:t}))),t>0?(T((e=>e.some((e=>4===e.index))?e:[...e,{index:4,time:g}])),p((e=>({...e,4:g})))):(T((e=>e.filter((e=>4!==e.index)))),p((e=>{const t={...e};return delete t[4],t})))},k=e=>{const t=(0,a.sortBy)(S,"time"),s=t.find((t=>t.index===e));if(!s)return"-";const l=t.indexOf(s);return D(0===l?s.time:s.time-t[l-1].time)},M=Object.values(s).reduce(((e,t)=>e+(parseInt(t)||0)),0),D=e=>{const t=Math.max(0,e),s=t%60;return`${Math.floor(t/60)}:${s<10?"0":""}${s}`};return(0,d.jsxs)("div",{className:"max-w-5xl mx-auto mt-4 sm:mt-8 p-3 sm:p-6 bg-white shadow-md sm:shadow-xl rounded-lg sm:rounded-xl",children:[(0,d.jsx)(o.Z,{}),(0,d.jsxs)("div",{className:"text-center mb-4 sm:mb-8",children:[(0,d.jsx)("h1",{className:"text-xl sm:text-3xl font-bold text-indigo-700 mb-1 sm:mb-2",children:"\ud83c\udf0a Ocean Science Exploration"}),(0,d.jsx)("p",{className:"text-sm sm:text-lg text-gray-600",children:"Coop Match Score Sheet"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-4 mb-4 sm:mb-6 bg-indigo-50 p-2 sm:p-4 rounded-lg sm:rounded-xl",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-xs sm:text-sm font-medium text-indigo-700 mb-1",children:"Match ID"}),(0,d.jsx)("p",{className:"text-base sm:text-xl font-bold",children:(null===e||void 0===e?void 0:e.id)||"N/A"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-xs sm:text-sm font-medium text-indigo-700 mb-1",children:"Team 1"}),(0,d.jsx)("p",{className:"text-base sm:text-xl font-bold",children:(null===e||void 0===e?void 0:e.team1)||"N/A"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-xs sm:text-sm font-medium text-indigo-700 mb-1",children:"Team 2"}),(0,d.jsx)("p",{className:"text-base sm:text-xl font-bold",children:(null===e||void 0===e?void 0:e.team2)||"N/A"})]})]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center bg-gray-100 p-2 sm:p-4 rounded-lg mb-4 sm:mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center mb-2 sm:mb-0",children:[(0,d.jsx)(m.qyc,{className:"text-indigo-600 mr-2 text-lg sm:text-xl"}),(0,d.jsx)("span",{className:"text-lg sm:text-xl font-semibold",children:D(60-g)})]}),(0,d.jsxs)("div",{className:"flex gap-1 sm:gap-2 w-full sm:w-auto",children:[(0,d.jsxs)("button",{onClick:()=>v(!j),disabled:g>=60,className:"flex-1 sm:flex-none px-3 py-1 sm:px-4 sm:py-2 rounded-lg flex items-center justify-center text-sm sm:text-base "+(j?"bg-yellow-500 hover:bg-yellow-600 text-white":"bg-green-600 hover:bg-green-700 text-white"),children:[j?(0,d.jsx)(m.Wh,{className:"mr-1 sm:mr-2"}):(0,d.jsx)(m.gmG,{className:"mr-1 sm:mr-2"}),j?"Pause":"Start"]}),(0,d.jsxs)("button",{onClick:()=>{v(!1),f(0),c({}),b(0),T([]),p({})},className:"flex-1 sm:flex-none px-3 py-1 sm:px-4 sm:py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg flex items-center justify-center text-sm sm:text-base",children:[(0,d.jsx)(m.WLu,{className:"mr-1 sm:mr-2"})," Reset"]})]})]}),(0,d.jsx)("div",{className:"overflow-x-auto mb-4 sm:mb-8",children:(0,d.jsxs)("table",{className:"w-full border-collapse rounded-lg overflow-hidden shadow-sm sm:shadow-md",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"bg-indigo-600 text-white",children:[(0,d.jsx)("th",{className:"px-2 sm:px-4 py-2 text-left text-xs sm:text-sm",children:"Task"}),(0,d.jsx)("th",{className:"px-2 sm:px-4 py-2 text-center text-xs sm:text-sm",children:"Points"}),(0,d.jsx)("th",{className:"px-2 sm:px-4 py-2 text-center text-xs sm:text-sm hidden sm:table-cell",children:"Score"}),(0,d.jsx)("th",{className:"px-2 sm:px-4 py-2 text-center text-xs sm:text-sm hidden sm:table-cell",children:"Time"}),(0,d.jsx)("th",{className:"px-2 sm:px-4 py-2 text-center text-xs sm:text-sm",children:"Status"})]})}),(0,d.jsx)("tbody",{children:r.map(((e,t)=>(0,d.jsxs)("tr",{className:"border-b "+(t%2===0?"bg-white":"bg-indigo-50"),children:[(0,d.jsx)("td",{className:"px-2 sm:px-4 py-2 text-xs sm:text-sm",children:e.title}),(0,d.jsx)("td",{className:"px-2 sm:px-4 py-2 text-center text-xs sm:text-sm font-medium",children:e.points}),(0,d.jsx)("td",{className:"px-2 sm:px-4 py-2 text-center text-xs sm:text-sm font-bold hidden sm:table-cell",children:e.isDynamic?s[4]||0:s[t]||0}),(0,d.jsx)("td",{className:"px-2 sm:px-4 py-2 text-center text-xs sm:text-sm hidden sm:table-cell",children:k(t)}),(0,d.jsx)("td",{className:"px-2 sm:px-4 py-2 text-center",children:e.isDynamic?(0,d.jsx)("input",{type:"number",min:"0",max:"5",value:u,onChange:C,className:"w-12 sm:w-16 px-1 sm:px-2 py-1 border rounded text-center focus:ring-2 focus:ring-indigo-400 text-xs sm:text-sm",disabled:!j||g>=60}):(0,d.jsx)("input",{type:"checkbox",checked:!!s[t],onChange:e=>((e,t)=>{c((s=>({...s,[e]:t?r[e].points:0}))),t?(T((t=>[...t,{index:e,time:g}])),p((t=>({...t,[e]:g})))):(T((t=>t.filter((t=>t.index!==e)))),p((t=>{const s={...t};return delete s[e],s})))})(t,e.target.checked),className:"w-4 h-4 sm:w-5 sm:h-5 accent-green-500 cursor-pointer",disabled:!j||g>=60})})]},t)))})]})}),(0,d.jsxs)("div",{className:"bg-indigo-50 p-2 sm:p-4 rounded-lg sm:rounded-xl mb-4 sm:mb-6 flex flex-col sm:flex-row justify-between items-center gap-3 sm:gap-0",children:[(0,d.jsxs)("div",{className:"text-center sm:text-left",children:[(0,d.jsx)("h3",{className:"text-xs sm:text-sm font-medium text-indigo-700",children:"Total Score"}),(0,d.jsx)("p",{className:"text-2xl sm:text-3xl font-bold text-indigo-600",children:M})]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto",children:[(0,d.jsxs)("button",{onClick:()=>{"coop"===(null===e||void 0===e?void 0:e.type)&&(t(e.id,{...e,score:M,taskTimes:h,totalTime:g}),w("/Dashboard/VexGO/COOPMatches"))},className:"px-3 py-2 sm:px-5 sm:py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg flex items-center justify-center \r shadow-md hover:shadow-lg transition-all text-xs  sm:text-base",disabled:!j,children:[(0,d.jsx)(m.FJM,{className:"mr-1 sm:mr-2"}),"Submit Score"]}),(0,d.jsxs)("button",{onClick:()=>{const t=new i.jsPDF;t.setFontSize(18).setTextColor(79,70,229).text("Ocean Science Exploration",105,20,{align:"center"}).setFontSize(14).text("Coop Match Score Sheet",105,30,{align:"center"}),t.setFontSize(14).setTextColor(0).text(`Match ID: ${(null===e||void 0===e?void 0:e.id)||"N/A"}`,20,40).text(`Teams: ${(null===e||void 0===e?void 0:e.team1)||"N/A"} & ${(null===e||void 0===e?void 0:e.team2)||"N/A"}`,20,50).text(`Total Time: ${D(g)}`,20,60);const l=r.map(((e,t)=>[e.title,e.points,s[t]||0,k(t)]));t.autoTable({startY:70,head:[["Task","Points","Score","Time"]],body:l,theme:"striped",styles:{fontSize:10},headStyles:{fillColor:[79,70,229],textColor:255}}),t.text(`Total Score: ${M}`,20,t.autoTable.previous.finalY+10),t.save(`Match_${N.matchId}_Score.pdf`)},className:"px-3 py-2 sm:px-5 sm:py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg flex items-center justify-center \r shadow-md hover:shadow-lg transition-all text-xs sm:text-base",disabled:!j,children:[(0,d.jsx)(m.aBF,{className:"mr-1 sm:mr-2"}),"Download PDF"]})]})]})]})}}}]);
//# sourceMappingURL=951.9b0d63f8.chunk.js.map